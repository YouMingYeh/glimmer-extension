var Rf=Object.defineProperty;var Pf=(t,e,n)=>e in t?Rf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var X=(t,e,n)=>Pf(t,typeof e!="symbol"?e+"":e,n);import{a as Pt,r as m,j as y,S as Tr,d as ml,u as Ie,e as kf,f as Af,g as De,R as oe,h as Nf,b as Ne,M as bt,B as be,i as Of,c as Lf}from"./types-CE7kL04Z.js";/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=Pt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=Pt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=Pt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Pt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Pt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Pt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function ri(t,e=[]){let n=[];function s(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=f=>{var x;const{scope:d,children:h,...p}=f,g=((x=d==null?void 0:d[t])==null?void 0:x[l])||a,b=m.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:b,children:h})};c.displayName=i+"Provider";function u(f,d){var g;const h=((g=d==null?void 0:d[t])==null?void 0:g[l])||a,p=m.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,u]}const r=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return r.scopeName=t,[s,$f(r,...e)]}function $f(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Bf=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Re=Bf.reduce((t,e)=>{const n=m.forwardRef((s,r)=>{const{asChild:i,...o}=s,a=i?Tr:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(a,{...o,ref:r})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Uf(t,e){t&&ml.flushSync(()=>t.dispatchEvent(e))}function kt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function zf(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t);m.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var Wf="DismissableLayer",Er="dismissableLayer.update",Hf="dismissableLayer.pointerDownOutside",Kf="dismissableLayer.focusOutside",uo,gl=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yl=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(gl),[u,f]=m.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=m.useState({}),p=Ie(e,T=>f(T)),g=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(b),v=u?g.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,S=v>=x,C=qf(T=>{const R=T.target,L=[...c.branches].some(A=>A.contains(R));!S||L||(r==null||r(T),o==null||o(T),T.defaultPrevented||a==null||a())},d),E=Jf(T=>{const R=T.target;[...c.branches].some(A=>A.contains(R))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},d);return zf(T=>{v===c.layers.size-1&&(s==null||s(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},d),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(uo=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),fo(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=uo)}},[u,d,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),fo())},[u,c]),m.useEffect(()=>{const T=()=>h({});return document.addEventListener(Er,T),()=>document.removeEventListener(Er,T)},[]),y.jsx(Re.div,{...l,ref:p,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:ae(t.onFocusCapture,E.onFocusCapture),onBlurCapture:ae(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ae(t.onPointerDownCapture,C.onPointerDownCapture)})});yl.displayName=Wf;var Gf="DismissableLayerBranch",Yf=m.forwardRef((t,e)=>{const n=m.useContext(gl),s=m.useRef(null),r=Ie(e,s);return m.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),y.jsx(Re.div,{...t,ref:r})});Yf.displayName=Gf;function qf(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),s=m.useRef(!1),r=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!s.current){let l=function(){xl(Hf,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function Jf(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),s=m.useRef(!1);return m.useEffect(()=>{const r=i=>{i.target&&!s.current&&xl(Kf,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function fo(){const t=new CustomEvent(Er);document.dispatchEvent(t)}function xl(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?Uf(r,i):r.dispatchEvent(i)}var zt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Xf=kf.useId||(()=>{}),Zf=0;function vl(t){const[e,n]=m.useState(Xf());return zt(()=>{n(s=>s??String(Zf++))},[t]),e?`radix-${e}`:""}const Qf=["top","right","bottom","left"],it=Math.min,Ce=Math.max,ms=Math.round,Xn=Math.floor,ot=t=>({x:t,y:t}),ed={left:"right",right:"left",bottom:"top",top:"bottom"},td={start:"end",end:"start"};function Rr(t,e,n){return Ce(t,it(e,n))}function et(t,e){return typeof t=="function"?t(e):t}function tt(t){return t.split("-")[0]}function Jt(t){return t.split("-")[1]}function ii(t){return t==="x"?"y":"x"}function oi(t){return t==="y"?"height":"width"}function at(t){return["top","bottom"].includes(tt(t))?"y":"x"}function ai(t){return ii(at(t))}function nd(t,e,n){n===void 0&&(n=!1);const s=Jt(t),r=ai(t),i=oi(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=gs(o)),[o,gs(o)]}function sd(t){const e=gs(t);return[Pr(t),e,Pr(e)]}function Pr(t){return t.replace(/start|end/g,e=>td[e])}function rd(t,e,n){const s=["left","right"],r=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:s:e?s:r;case"left":case"right":return e?i:o;default:return[]}}function id(t,e,n,s){const r=Jt(t);let i=rd(tt(t),n==="start",s);return r&&(i=i.map(o=>o+"-"+r),e&&(i=i.concat(i.map(Pr)))),i}function gs(t){return t.replace(/left|right|bottom|top/g,e=>ed[e])}function od(t){return{top:0,right:0,bottom:0,left:0,...t}}function bl(t){return typeof t!="number"?od(t):{top:t,right:t,bottom:t,left:t}}function ys(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function ho(t,e,n){let{reference:s,floating:r}=t;const i=at(e),o=ai(e),a=oi(o),l=tt(e),c=i==="y",u=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,d=s[a]/2-r[a]/2;let h;switch(l){case"top":h={x:u,y:s.y-r.height};break;case"bottom":h={x:u,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-r.width,y:f};break;default:h={x:s.x,y:s.y}}switch(Jt(e)){case"start":h[o]-=d*(n&&c?-1:1);break;case"end":h[o]+=d*(n&&c?-1:1);break}return h}const ad=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:f}=ho(c,s,l),d=s,h={},p=0;for(let g=0;g<a.length;g++){const{name:b,fn:x}=a[g],{x:v,y:w,data:S,reset:C}=await x({x:u,y:f,initialPlacement:s,placement:d,strategy:r,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,f=w??f,h={...h,[b]:{...h[b],...S}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):C.rects),{x:u,y:f}=ho(c,d,l)),g=-1)}return{x:u,y:f,placement:d,strategy:r,middlewareData:h}};async function xn(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=et(e,t),p=bl(h),b=a[d?f==="floating"?"reference":"floating":f],x=ys(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=f==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},C=ys(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:w,strategy:l}):v);return{top:(x.top-C.top+p.top)/S.y,bottom:(C.bottom-x.bottom+p.bottom)/S.y,left:(x.left-C.left+p.left)/S.x,right:(C.right-x.right+p.right)/S.x}}const ld=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=et(t,e)||{};if(c==null)return{};const f=bl(u),d={x:n,y:s},h=ai(r),p=oi(h),g=await o.getDimensions(c),b=h==="y",x=b?"top":"left",v=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=i.reference[p]+i.reference[h]-d[h]-i.floating[p],C=d[h]-i.reference[h],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=E?E[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(E)))&&(T=a.floating[w]||i.floating[p]);const R=S/2-C/2,L=T/2-g[p]/2-1,A=it(f[x],L),_=it(f[v],L),B=A,D=T-g[p]-_,k=T/2-g[p]/2+R,U=Rr(B,k,D),M=!l.arrow&&Jt(r)!=null&&k!==U&&i.reference[p]/2-(k<B?A:_)-g[p]/2<0,j=M?k<B?k-B:k-D:0;return{[h]:d[h]+j,data:{[h]:U,centerOffset:k-U-j,...M&&{alignmentOffset:j}},reset:M}}}),cd=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...b}=et(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=tt(r),v=at(a),w=tt(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=d||(w||!g?[gs(a)]:sd(a)),E=p!=="none";!d&&E&&C.push(...id(a,g,p,S));const T=[a,...C],R=await xn(e,b),L=[];let A=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&L.push(R[x]),f){const k=nd(r,o,S);L.push(R[k[0]],R[k[1]])}if(A=[...A,{placement:r,overflows:L}],!L.every(k=>k<=0)){var _,B;const k=(((_=i.flip)==null?void 0:_.index)||0)+1,U=T[k];if(U)return{data:{index:k,overflows:A},reset:{placement:U}};let M=(B=A.filter(j=>j.overflows[0]<=0).sort((j,P)=>j.overflows[1]-P.overflows[1])[0])==null?void 0:B.placement;if(!M)switch(h){case"bestFit":{var D;const j=(D=A.filter(P=>{if(E){const O=at(P.placement);return O===v||O==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(O=>O>0).reduce((O,$)=>O+$,0)]).sort((P,O)=>P[1]-O[1])[0])==null?void 0:D[0];j&&(M=j);break}case"initialPlacement":M=a;break}if(r!==M)return{reset:{placement:M}}}return{}}}};function po(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mo(t){return Qf.some(e=>t[e]>=0)}const ud=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=et(t,e);switch(s){case"referenceHidden":{const i=await xn(e,{...r,elementContext:"reference"}),o=po(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:mo(o)}}}case"escaped":{const i=await xn(e,{...r,altBoundary:!0}),o=po(i,n.floating);return{data:{escapedOffsets:o,escaped:mo(o)}}}default:return{}}}}};async function fd(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=tt(n),a=Jt(n),l=at(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,f=et(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const dd=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:o,middlewareData:a}=e,l=await fd(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:o}}}}},hd=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x,y:v}=b;return{x,y:v}}},...l}=et(t,e),c={x:n,y:s},u=await xn(e,l),f=at(tt(r)),d=ii(f);let h=c[d],p=c[f];if(i){const b=d==="y"?"top":"left",x=d==="y"?"bottom":"right",v=h+u[b],w=h-u[x];h=Rr(v,h,w)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=p+u[b],w=p-u[x];p=Rr(v,p,w)}const g=a.fn({...e,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[d]:i,[f]:o}}}}}},pd=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=et(t,e),u={x:n,y:s},f=at(r),d=ii(f);let h=u[d],p=u[f];const g=et(a,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=d==="y"?"height":"width",S=i.reference[d]-i.floating[w]+b.mainAxis,C=i.reference[d]+i.reference[w]-b.mainAxis;h<S?h=S:h>C&&(h=C)}if(c){var x,v;const w=d==="y"?"width":"height",S=["top","left"].includes(tt(r)),C=i.reference[f]-i.floating[w]+(S&&((x=o.offset)==null?void 0:x[f])||0)+(S?0:b.crossAxis),E=i.reference[f]+i.reference[w]+(S?0:((v=o.offset)==null?void 0:v[f])||0)-(S?b.crossAxis:0);p<C?p=C:p>E&&(p=E)}return{[d]:h,[f]:p}}}},md=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=et(t,e),u=await xn(e,c),f=tt(r),d=Jt(r),h=at(r)==="y",{width:p,height:g}=i.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,b=d==="end"?"top":"bottom");const v=g-u.top-u.bottom,w=p-u.left-u.right,S=it(g-u[b],v),C=it(p-u[x],w),E=!e.middlewareData.shift;let T=S,R=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=w),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(T=v),E&&!d){const A=Ce(u.left,0),_=Ce(u.right,0),B=Ce(u.top,0),D=Ce(u.bottom,0);h?R=p-2*(A!==0||_!==0?A+_:Ce(u.left,u.right)):T=g-2*(B!==0||D!==0?B+D:Ce(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:T});const L=await o.getDimensions(a.floating);return p!==L.width||g!==L.height?{reset:{rects:!0}}:{}}}};function js(){return typeof window<"u"}function Xt(t){return wl(t)?(t.nodeName||"").toLowerCase():"#document"}function Te(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ke(t){var e;return(e=(wl(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wl(t){return js()?t instanceof Node||t instanceof Te(t).Node:!1}function je(t){return js()?t instanceof Element||t instanceof Te(t).Element:!1}function We(t){return js()?t instanceof HTMLElement||t instanceof Te(t).HTMLElement:!1}function go(t){return!js()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Te(t).ShadowRoot}function Wn(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=_e(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(r)}function gd(t){return["table","td","th"].includes(Xt(t))}function _s(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function li(t){const e=ci(),n=je(t)?_e(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function yd(t){let e=lt(t);for(;We(e)&&!Wt(e);){if(li(e))return e;if(_s(e))return null;e=lt(e)}return null}function ci(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wt(t){return["html","body","#document"].includes(Xt(t))}function _e(t){return Te(t).getComputedStyle(t)}function Ms(t){return je(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function lt(t){if(Xt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||go(t)&&t.host||Ke(t);return go(e)?e.host:e}function Sl(t){const e=lt(t);return Wt(e)?t.ownerDocument?t.ownerDocument.body:t.body:We(e)&&Wn(e)?e:Sl(e)}function vn(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=Sl(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),o=Te(r);if(i){const a=kr(o);return e.concat(o,o.visualViewport||[],Wn(r)?r:[],a&&n?vn(a):[])}return e.concat(r,vn(r,[],n))}function kr(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Cl(t){const e=_e(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=We(t),i=r?t.offsetWidth:n,o=r?t.offsetHeight:s,a=ms(n)!==i||ms(s)!==o;return a&&(n=i,s=o),{width:n,height:s,$:a}}function ui(t){return je(t)?t:t.contextElement}function Ut(t){const e=ui(t);if(!We(e))return ot(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=Cl(e);let o=(i?ms(n.width):n.width)/s,a=(i?ms(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const xd=ot(0);function Tl(t){const e=Te(t);return!ci()||!e.visualViewport?xd:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vd(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Te(t)?!1:e}function Tt(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=ui(t);let o=ot(1);e&&(s?je(s)&&(o=Ut(s)):o=Ut(t));const a=vd(i,n,s)?Tl(i):ot(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,f=r.height/o.y;if(i){const d=Te(i),h=s&&je(s)?Te(s):s;let p=d,g=kr(p);for(;g&&s&&h!==p;){const b=Ut(g),x=g.getBoundingClientRect(),v=_e(g),w=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*b.x,S=x.top+(g.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,f*=b.y,l+=w,c+=S,p=Te(g),g=kr(p)}}return ys({width:u,height:f,x:l,y:c})}function bd(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",o=Ke(s),a=e?_s(e.floating):!1;if(s===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ot(1);const u=ot(0),f=We(s);if((f||!f&&!i)&&((Xt(s)!=="body"||Wn(o))&&(l=Ms(s)),We(s))){const d=Tt(s);c=Ut(s),u.x=d.x+s.clientLeft,u.y=d.y+s.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function wd(t){return Array.from(t.getClientRects())}function Ar(t,e){const n=Ms(t).scrollLeft;return e?e.left+n:Tt(Ke(t)).left+n}function Sd(t){const e=Ke(t),n=Ms(t),s=t.ownerDocument.body,r=Ce(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Ce(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Ar(t);const a=-n.scrollTop;return _e(s).direction==="rtl"&&(o+=Ce(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:a}}function Cd(t,e){const n=Te(t),s=Ke(t),r=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,a=0,l=0;if(r){i=r.width,o=r.height;const c=ci();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:i,height:o,x:a,y:l}}function Td(t,e){const n=Tt(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=We(t)?Ut(t):ot(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=r*i.x,c=s*i.y;return{width:o,height:a,x:l,y:c}}function yo(t,e,n){let s;if(e==="viewport")s=Cd(t,n);else if(e==="document")s=Sd(Ke(t));else if(je(e))s=Td(e,n);else{const r=Tl(t);s={...e,x:e.x-r.x,y:e.y-r.y}}return ys(s)}function El(t,e){const n=lt(t);return n===e||!je(n)||Wt(n)?!1:_e(n).position==="fixed"||El(n,e)}function Ed(t,e){const n=e.get(t);if(n)return n;let s=vn(t,[],!1).filter(a=>je(a)&&Xt(a)!=="body"),r=null;const i=_e(t).position==="fixed";let o=i?lt(t):t;for(;je(o)&&!Wt(o);){const a=_e(o),l=li(o);!l&&a.position==="fixed"&&(r=null),(i?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Wn(o)&&!l&&El(t,o))?s=s.filter(u=>u!==o):r=a,o=lt(o)}return e.set(t,s),s}function Rd(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const o=[...n==="clippingAncestors"?_s(e)?[]:Ed(e,this._c):[].concat(n),s],a=o[0],l=o.reduce((c,u)=>{const f=yo(e,u,r);return c.top=Ce(f.top,c.top),c.right=it(f.right,c.right),c.bottom=it(f.bottom,c.bottom),c.left=Ce(f.left,c.left),c},yo(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Pd(t){const{width:e,height:n}=Cl(t);return{width:e,height:n}}function kd(t,e,n){const s=We(e),r=Ke(e),i=n==="fixed",o=Tt(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ot(0);if(s||!s&&!i)if((Xt(e)!=="body"||Wn(r))&&(a=Ms(e)),s){const h=Tt(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else r&&(l.x=Ar(r));let c=0,u=0;if(r&&!s&&!i){const h=r.getBoundingClientRect();u=h.top+a.scrollTop,c=h.left+a.scrollLeft-Ar(r,h)}const f=o.left+a.scrollLeft-l.x-c,d=o.top+a.scrollTop-l.y-u;return{x:f,y:d,width:o.width,height:o.height}}function Qs(t){return _e(t).position==="static"}function xo(t,e){if(!We(t)||_e(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ke(t)===n&&(n=n.ownerDocument.body),n}function Rl(t,e){const n=Te(t);if(_s(t))return n;if(!We(t)){let r=lt(t);for(;r&&!Wt(r);){if(je(r)&&!Qs(r))return r;r=lt(r)}return n}let s=xo(t,e);for(;s&&gd(s)&&Qs(s);)s=xo(s,e);return s&&Wt(s)&&Qs(s)&&!li(s)?n:s||yd(t)||n}const Ad=async function(t){const e=this.getOffsetParent||Rl,n=this.getDimensions,s=await n(t.floating);return{reference:kd(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Nd(t){return _e(t).direction==="rtl"}const Od={convertOffsetParentRelativeRectToViewportRelativeRect:bd,getDocumentElement:Ke,getClippingRect:Rd,getOffsetParent:Rl,getElementRects:Ad,getClientRects:wd,getDimensions:Pd,getScale:Ut,isElement:je,isRTL:Nd};function Ld(t,e){let n=null,s;const r=Ke(t);function i(){var a;clearTimeout(s),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:f,height:d}=t.getBoundingClientRect();if(a||e(),!f||!d)return;const h=Xn(u),p=Xn(r.clientWidth-(c+f)),g=Xn(r.clientHeight-(u+d)),b=Xn(c),v={rootMargin:-h+"px "+-p+"px "+-g+"px "+-b+"px",threshold:Ce(0,it(1,l))||1};let w=!0;function S(C){const E=C[0].intersectionRatio;if(E!==l){if(!w)return o();E?o(!1,E):s=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(S,{...v,root:r.ownerDocument})}catch{n=new IntersectionObserver(S,v)}n.observe(t)}return o(!0),i}function Id(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,c=ui(t),u=r||i?[...c?vn(c):[],...vn(e)]:[];u.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=c&&a?Ld(c,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(x=>{let[v]=x;v&&v.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let p,g=l?Tt(t):null;l&&b();function b(){const x=Tt(t);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,p=requestAnimationFrame(b)}return n(),()=>{var x;u.forEach(v=>{r&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const Dd=dd,jd=hd,_d=cd,Md=md,Vd=ud,vo=ld,Fd=pd,$d=(t,e,n)=>{const s=new Map,r={platform:Od,...n},i={...r.platform,_c:s};return ad(t,e,{...r,platform:i})};var us=typeof document<"u"?m.useLayoutEffect:m.useEffect;function xs(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!xs(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!xs(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Pl(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bo(t,e){const n=Pl(t);return Math.round(e*n)/n}function er(t){const e=m.useRef(t);return us(()=>{e.current=t}),e}function Bd(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=m.useState(s);xs(d,s)||h(s);const[p,g]=m.useState(null),[b,x]=m.useState(null),v=m.useCallback(P=>{P!==E.current&&(E.current=P,g(P))},[]),w=m.useCallback(P=>{P!==T.current&&(T.current=P,x(P))},[]),S=i||p,C=o||b,E=m.useRef(null),T=m.useRef(null),R=m.useRef(u),L=l!=null,A=er(l),_=er(r),B=er(c),D=m.useCallback(()=>{if(!E.current||!T.current)return;const P={placement:e,strategy:n,middleware:d};_.current&&(P.platform=_.current),$d(E.current,T.current,P).then(O=>{const $={...O,isPositioned:B.current!==!1};k.current&&!xs(R.current,$)&&(R.current=$,ml.flushSync(()=>{f($)}))})},[d,e,n,_,B]);us(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[c]);const k=m.useRef(!1);us(()=>(k.current=!0,()=>{k.current=!1}),[]),us(()=>{if(S&&(E.current=S),C&&(T.current=C),S&&C){if(A.current)return A.current(S,C,D);D()}},[S,C,D,A,L]);const U=m.useMemo(()=>({reference:E,floating:T,setReference:v,setFloating:w}),[v,w]),M=m.useMemo(()=>({reference:S,floating:C}),[S,C]),j=m.useMemo(()=>{const P={position:n,left:0,top:0};if(!M.floating)return P;const O=bo(M.floating,u.x),$=bo(M.floating,u.y);return a?{...P,transform:"translate("+O+"px, "+$+"px)",...Pl(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:$}},[n,a,M.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:D,refs:U,elements:M,floatingStyles:j}),[u,D,U,M,j])}const Ud=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?vo({element:s.current,padding:r}).fn(n):{}:s?vo({element:s,padding:r}).fn(n):{}}}},zd=(t,e)=>({...Dd(t),options:[t,e]}),Wd=(t,e)=>({...jd(t),options:[t,e]}),Hd=(t,e)=>({...Fd(t),options:[t,e]}),Kd=(t,e)=>({..._d(t),options:[t,e]}),Gd=(t,e)=>({...Md(t),options:[t,e]}),Yd=(t,e)=>({...Vd(t),options:[t,e]}),qd=(t,e)=>({...Ud(t),options:[t,e]});var Jd="Arrow",kl=m.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return y.jsx(Re.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});kl.displayName=Jd;var Xd=kl;function fi(t,e=[]){let n=[];function s(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[t][l])||a,b=m.useMemo(()=>p,Object.values(p));return y.jsx(g.Provider,{value:b,children:h})}function u(f,d){const h=(d==null?void 0:d[t][l])||a,p=m.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const r=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return r.scopeName=t,[s,Zd(r,...e)]}function Zd(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Al(t){const[e,n]=m.useState(void 0);return zt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var di="Popper",[Nl,Ol]=fi(di),[Qd,Ll]=Nl(di),Il=t=>{const{__scopePopper:e,children:n}=t,[s,r]=m.useState(null);return y.jsx(Qd,{scope:e,anchor:s,onAnchorChange:r,children:n})};Il.displayName=di;var Dl="PopperAnchor",jl=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=Ll(Dl,n),o=m.useRef(null),a=Ie(e,o);return m.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:y.jsx(Re.div,{...r,ref:a})});jl.displayName=Dl;var hi="PopperContent",[eh,th]=Nl(hi),_l=m.forwardRef((t,e)=>{var mt,Ot,Lt,ve,Ge,Y;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=t,b=Ll(hi,n),[x,v]=m.useState(null),w=Ie(e,H=>v(H)),[S,C]=m.useState(null),E=Al(S),T=(E==null?void 0:E.width)??0,R=(E==null?void 0:E.height)??0,L=s+(i!=="center"?"-"+i:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},_=Array.isArray(c)?c:[c],B=_.length>0,D={padding:A,boundary:_.filter(sh),altBoundary:B},{refs:k,floatingStyles:U,placement:M,isPositioned:j,middlewareData:P}=Bd({strategy:"fixed",placement:L,whileElementsMounted:(...H)=>Id(...H,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[zd({mainAxis:r+R,alignmentAxis:o}),l&&Wd({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Hd():void 0,...D}),l&&Kd({...D}),Gd({...D,apply:({elements:H,rects:ne,availableWidth:N,availableHeight:z})=>{const{width:q,height:W}=ne.reference,V=H.floating.style;V.setProperty("--radix-popper-available-width",`${N}px`),V.setProperty("--radix-popper-available-height",`${z}px`),V.setProperty("--radix-popper-anchor-width",`${q}px`),V.setProperty("--radix-popper-anchor-height",`${W}px`)}}),S&&qd({element:S,padding:a}),rh({arrowWidth:T,arrowHeight:R}),d&&Yd({strategy:"referenceHidden",...D})]}),[O,$]=Fl(M),G=kt(p);zt(()=>{j&&(G==null||G())},[j,G]);const te=(mt=P.arrow)==null?void 0:mt.x,ue=(Ot=P.arrow)==null?void 0:Ot.y,fe=((Lt=P.arrow)==null?void 0:Lt.centerOffset)!==0,[Me,Nt]=m.useState();return zt(()=>{x&&Nt(window.getComputedStyle(x).zIndex)},[x]),y.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:j?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(ve=P.transformOrigin)==null?void 0:ve.x,(Ge=P.transformOrigin)==null?void 0:Ge.y].join(" "),...((Y=P.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(eh,{scope:n,placedSide:O,onArrowChange:C,arrowX:te,arrowY:ue,shouldHideArrow:fe,children:y.jsx(Re.div,{"data-side":O,"data-align":$,...g,ref:w,style:{...g.style,animation:j?void 0:"none"}})})})});_l.displayName=hi;var Ml="PopperArrow",nh={top:"bottom",right:"left",bottom:"top",left:"right"},Vl=m.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=th(Ml,s),o=nh[i.placedSide];return y.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:y.jsx(Xd,{...r,ref:n,style:{...r.style,display:"block"}})})});Vl.displayName=Ml;function sh(t){return t!==null}var rh=t=>({name:"transformOrigin",options:t,fn(e){var b,x,v;const{placement:n,rects:s,middlewareData:r}=e,o=((b=r.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=Fl(n),f={start:"0%",center:"50%",end:"100%"}[u],d=(((x=r.arrow)==null?void 0:x.x)??0)+a/2,h=(((v=r.arrow)==null?void 0:v.y)??0)+l/2;let p="",g="";return c==="bottom"?(p=o?f:`${d}px`,g=`${-l}px`):c==="top"?(p=o?f:`${d}px`,g=`${s.floating.height+l}px`):c==="right"?(p=`${-l}px`,g=o?f:`${h}px`):c==="left"&&(p=`${s.floating.width+l}px`,g=o?f:`${h}px`),{data:{x:p,y:g}}}});function Fl(t){const[e,n="center"]=t.split("-");return[e,n]}var ih=Il,oh=jl,ah=_l,lh=Vl;function ch(t,e){return m.useReducer((n,s)=>e[n][s]??n,t)}var pi=t=>{const{present:e,children:n}=t,s=uh(e),r=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),i=Ie(s.ref,fh(r));return typeof n=="function"||s.isPresent?m.cloneElement(r,{ref:i}):null};pi.displayName="Presence";function uh(t){const[e,n]=m.useState(),s=m.useRef({}),r=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=ch(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Zn(s.current);i.current=a==="mounted"?c:"none"},[a]),zt(()=>{const c=s.current,u=r.current;if(u!==t){const d=i.current,h=Zn(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),zt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=h=>{const g=Zn(s.current).includes(h.animationName);if(h.target===e&&g&&(l("ANIMATION_END"),!r.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},d=h=>{h.target===e&&(i.current=Zn(s.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(s.current=getComputedStyle(c)),n(c)},[])}}function Zn(t){return(t==null?void 0:t.animationName)||"none"}function fh(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function mi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,r]=dh({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:s,a=kt(n),l=m.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else r(c)},[i,t,r,a]);return[o,l]}function dh({defaultProp:t,onChange:e}){const n=m.useState(t),[s]=n,r=m.useRef(s),i=kt(e);return m.useEffect(()=>{r.current!==s&&(i(s),r.current=s)},[s,r,i]),n}var hh="VisuallyHidden",$l=m.forwardRef((t,e)=>y.jsx(Re.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$l.displayName=hh;var ph=$l,[Vs,ew]=ri("Tooltip",[Ol]),Fs=Ol(),Bl="TooltipProvider",mh=700,Nr="tooltip.open",[gh,gi]=Vs(Bl),Ul=t=>{const{__scopeTooltip:e,delayDuration:n=mh,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),y.jsx(gh,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:r,children:i})};Ul.displayName=Bl;var $s="Tooltip",[yh,Bs]=Vs($s),zl=t=>{const{__scopeTooltip:e,children:n,open:s,defaultOpen:r=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=gi($s,t.__scopeTooltip),c=Fs(e),[u,f]=m.useState(null),d=vl(),h=m.useRef(0),p=o??l.disableHoverableContent,g=a??l.delayDuration,b=m.useRef(!1),[x=!1,v]=mi({prop:s,defaultProp:r,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(Nr))):l.onClose(),i==null||i(T)}}),w=m.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),S=m.useCallback(()=>{window.clearTimeout(h.current),b.current=!1,v(!0)},[v]),C=m.useCallback(()=>{window.clearTimeout(h.current),v(!1)},[v]),E=m.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{b.current=!0,v(!0)},g)},[g,v]);return m.useEffect(()=>()=>window.clearTimeout(h.current),[]),y.jsx(ih,{...c,children:y.jsx(yh,{scope:e,contentId:d,open:x,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?E():S()},[l.isOpenDelayed,E,S]),onTriggerLeave:m.useCallback(()=>{p?C():window.clearTimeout(h.current)},[C,p]),onOpen:S,onClose:C,disableHoverableContent:p,children:n})})};zl.displayName=$s;var Or="TooltipTrigger",Wl=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=Bs(Or,n),i=gi(Or,n),o=Fs(n),a=m.useRef(null),l=Ie(e,a,r.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),y.jsx(oh,{asChild:!0,...o,children:y.jsx(Re.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:l,onPointerMove:ae(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:ae(t.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:ae(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ae(t.onFocus,()=>{c.current||r.onOpen()}),onBlur:ae(t.onBlur,r.onClose),onClick:ae(t.onClick,r.onClose)})})});Wl.displayName=Or;var xh="TooltipPortal",[tw,vh]=Vs(xh,{forceMount:void 0}),Ht="TooltipContent",Hl=m.forwardRef((t,e)=>{const n=vh(Ht,t.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=t,o=Bs(Ht,t.__scopeTooltip);return y.jsx(pi,{present:s||o.open,children:o.disableHoverableContent?y.jsx(Kl,{side:r,...i,ref:e}):y.jsx(bh,{side:r,...i,ref:e})})}),bh=m.forwardRef((t,e)=>{const n=Bs(Ht,t.__scopeTooltip),s=gi(Ht,t.__scopeTooltip),r=m.useRef(null),i=Ie(e,r),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=r.current,{onPointerInTransitChange:f}=s,d=m.useCallback(()=>{a(null),f(!1)},[f]),h=m.useCallback((p,g)=>{const b=p.currentTarget,x={x:p.clientX,y:p.clientY},v=Th(x,b.getBoundingClientRect()),w=Eh(x,v),S=Rh(g.getBoundingClientRect()),C=kh([...w,...S]);a(C),f(!0)},[f]);return m.useEffect(()=>()=>d(),[d]),m.useEffect(()=>{if(l&&u){const p=b=>h(b,u),g=b=>h(b,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[l,u,h,d]),m.useEffect(()=>{if(o){const p=g=>{const b=g.target,x={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(b))||(u==null?void 0:u.contains(b)),w=!Ph(x,o);v?d():w&&(d(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,o,c,d]),y.jsx(Kl,{...t,ref:i})}),[wh,Sh]=Vs($s,{isInside:!1}),Kl=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Bs(Ht,n),c=Fs(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(Nr,u),()=>document.removeEventListener(Nr,u)),[u]),m.useEffect(()=>{if(l.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),y.jsx(yl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:y.jsxs(ah,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(Af,{children:s}),y.jsx(wh,{scope:n,isInside:!0,children:y.jsx(ph,{id:l.contentId,role:"tooltip",children:r||s})})]})})});Hl.displayName=Ht;var Gl="TooltipArrow",Ch=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=Fs(n);return Sh(Gl,n).isInside?null:y.jsx(lh,{...r,...s,ref:e})});Ch.displayName=Gl;function Th(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Eh(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function Rh(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function Ph(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>s!=u>s&&n<(c-a)*(s-l)/(u-l)+a&&(r=!r)}return r}function kh(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Ah(e)}function Ah(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Nh=Ul,Oh=zl,Lh=Wl,Yl=Hl;const on=Nh,an=Oh,ln=Lh,_t=m.forwardRef(({className:t,sideOffset:e=4,...n},s)=>y.jsx(Yl,{ref:s,sideOffset:e,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));_t.displayName=Yl.displayName;var ql={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wo=oe.createContext&&oe.createContext(ql),Ih=["attr","size","title"];function Dh(t,e){if(t==null)return{};var n=jh(t,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function jh(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},vs.apply(this,arguments)}function So(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?So(Object(n),!0).forEach(function(s){_h(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function _h(t,e,n){return e=Mh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mh(t){var e=Vh(t,"string");return typeof e=="symbol"?e:e+""}function Vh(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jl(t){return t&&t.map((e,n)=>oe.createElement(e.tag,bs({key:n},e.attr),Jl(e.child)))}function yi(t){return e=>oe.createElement(Fh,vs({attr:bs({},t.attr)},e),Jl(t.child))}function Fh(t){var e=n=>{var{attr:s,size:r,title:i}=t,o=Dh(t,Ih),a=r||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),oe.createElement("svg",vs({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:l,style:bs(bs({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&oe.createElement("title",null,i),t.children)};return wo!==void 0?oe.createElement(wo.Consumer,null,n=>e(n)):e(ql)}function $h(t){return yi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416.3 256c0-21 13.1-38.9 31.7-46.1-4.9-20.5-13-39.7-23.7-57.1-6.4 2.8-13.2 4.3-20.1 4.3-12.6 0-25.2-4.8-34.9-14.4-14.9-14.9-18.2-36.8-10.2-55-17.3-10.7-36.6-18.8-57-23.7C295 82.5 277 95.7 256 95.7S217 82.5 209.9 64c-20.5 4.9-39.7 13-57.1 23.7 8.1 18.1 4.7 40.1-10.2 55-9.6 9.6-22.3 14.4-34.9 14.4-6.9 0-13.7-1.4-20.1-4.3C77 170.3 68.9 189.5 64 210c18.5 7.1 31.7 25 31.7 46.1 0 21-13.1 38.9-31.6 46.1 4.9 20.5 13 39.7 23.7 57.1 6.4-2.8 13.2-4.2 20-4.2 12.6 0 25.2 4.8 34.9 14.4 14.8 14.8 18.2 36.8 10.2 54.9 17.4 10.7 36.7 18.8 57.1 23.7 7.1-18.5 25-31.6 46-31.6s38.9 13.1 46 31.6c20.5-4.9 39.7-13 57.1-23.7-8-18.1-4.6-40 10.2-54.9 9.6-9.6 22.2-14.4 34.9-14.4 6.8 0 13.7 1.4 20 4.2 10.7-17.4 18.8-36.7 23.7-57.1-18.4-7.2-31.6-25.1-31.6-46.2zm-159.4 79.9c-44.3 0-80-35.9-80-80s35.7-80 80-80 80 35.9 80 80-35.7 80-80 80z"},child:[]}]})(t)}function Bh(t){return yi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C140.559 48 48 140.559 48 256c0 115.436 92.559 208 208 208 115.435 0 208-92.564 208-208 0-115.441-92.564-208-208-208zm104.002 282.881l-29.12 29.117L256 285.117l-74.881 74.881-29.121-29.117L226.881 256l-74.883-74.881 29.121-29.116L256 226.881l74.881-74.878 29.12 29.116L285.119 256l74.883 74.881z"},child:[]}]})(t)}function Uh(t){return yi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 12C3 12.5523 3.44772 13 4 13H10C10.5523 13 11 12.5523 11 12V4C11 3.44772 10.5523 3 10 3H4C3.44772 3 3 3.44772 3 4V12ZM3 20C3 20.5523 3.44772 21 4 21H10C10.5523 21 11 20.5523 11 20V16C11 15.4477 10.5523 15 10 15H4C3.44772 15 3 15.4477 3 16V20ZM13 20C13 20.5523 13.4477 21 14 21H20C20.5523 21 21 20.5523 21 20V12C21 11.4477 20.5523 11 20 11H14C13.4477 11 13 11.4477 13 12V20ZM14 3C13.4477 3 13 3.44772 13 4V8C13 8.55228 13.4477 9 14 9H20C20.5523 9 21 8.55228 21 8V4C21 3.44772 20.5523 3 20 3H14Z"},child:[]}]})(t)}var jt=(t=>(t.home="home",t.settings="settings",t.profile="profile",t.chat="chat",t))(jt||{});const zh=({sideNav:t,closeContent:e})=>{const[n,s]=m.useState("home");return y.jsxs("aside",{className:"absolute inset-y-0 right-0 z-10 flex w-14 flex-col border-r bg-background border-l-[1px]",children:[e&&y.jsxs("a",{className:"hover:cursor-pointer flex h-9 w-9 items-center justify-center  text-muted-foreground transition-colors hover:text-foreground ml-auto mr-auto",href:"#",onClick:()=>{e()},children:[y.jsx(Bh,{className:"h-4 w-4 transition-all group-hover:scale-110"}),y.jsx("span",{className:"sr-only",children:"close sidebar"})]}),y.jsxs("nav",{className:"flex flex-col items-center gap-4 px-2 py-5",children:[y.jsx(on,{children:y.jsxs(an,{children:[y.jsx(ln,{asChild:!0,children:y.jsxs("a",{className:`hover:cursor-pointer flex h-9 w-9 items-center justify-center  text-muted-foreground transition-colors ${n=="home"?"rounded-full bg-primary text-lg font-semibold text-primary-foreground":""}`,href:"#",onClick:()=>{s("home"),t("home")},children:[y.jsx(Uh,{className:"h-4 w-4 transition-all group-hover:scale-110"}),y.jsx("span",{className:"sr-only",children:"home"})]})}),y.jsx(_t,{side:"right",children:"home"})]})}),y.jsx(on,{children:y.jsxs(an,{children:[y.jsx(ln,{asChild:!0,children:y.jsxs("a",{className:`hover:cursor-pointer flex h-9 w-9 items-center justify-center  text-muted-foreground transition-colors ${n=="chat"?"rounded-full bg-primary text-lg font-semibold text-primary-foreground":""} `,href:"#",onClick:()=>{s("chat"),t("chat")},children:[y.jsx(_f,{className:"h-4 w-4 transition-all group-hover:scale-110"}),y.jsx("span",{className:"sr-only",children:"chat"})]})}),y.jsx(_t,{side:"right",children:"chat"})]})})]}),y.jsxs("nav",{className:"mt-auto flex flex-col items-center gap-4 px-2 py-5",children:[y.jsx(on,{children:y.jsxs(an,{children:[y.jsx(ln,{asChild:!0,children:y.jsxs("a",{className:`hover:cursor-pointer flex h-9 w-9 items-center justify-center  text-muted-foreground transition-colors ${n=="profile"?"rounded-full bg-primary text-lg font-semibold text-primary-foreground":""} `,href:"#",onClick:()=>{s("profile"),t("profile")},children:[y.jsx(Ff,{className:"h-5 w-5"}),y.jsx("span",{className:"sr-only",children:"Profile"})]})}),y.jsx(_t,{side:"right",children:"Profile"})]})}),y.jsx(on,{children:y.jsxs(an,{children:[y.jsx(ln,{asChild:!0,children:y.jsxs("a",{className:`hover:cursor-pointer flex h-9 w-9 items-center justify-center  text-muted-foreground transition-colors ${n=="settings"?"rounded-full bg-primary text-lg font-semibold text-primary-foreground":""} `,href:"#",onClick:()=>{s("settings"),t("settings")},children:[y.jsx($h,{className:"h-5 w-5"}),y.jsx("span",{className:"sr-only",children:"Settings"})]})}),y.jsx(_t,{side:"right",children:"Settings"})]})})]})]})},Be=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:De("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Be.displayName="Card";const Wh=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:De("flex flex-col space-y-1.5 p-6",t),...e}));Wh.displayName="CardHeader";const Hh=m.forwardRef(({className:t,...e},n)=>y.jsx("h3",{ref:n,className:De("text-2xl font-semibold leading-none tracking-tight",t),...e}));Hh.displayName="CardTitle";const Kh=m.forwardRef(({className:t,...e},n)=>y.jsx("p",{ref:n,className:De("text-sm text-muted-foreground",t),...e}));Kh.displayName="CardDescription";const Gh=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:De("p-6 pt-0",t),...e}));Gh.displayName="CardContent";const Yh=m.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:De("flex items-center p-6 pt-0",t),...e}));Yh.displayName="CardFooter";function qh(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];St(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Co={};function Lr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];St(e[0])&&Co[e[0]]||(St(e[0])&&(Co[e[0]]=new Date),qh(...e))}const Xl=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},To=(t,e,n)=>{t.loadNamespaces(e,Xl(t,n))},Eo=(t,e,n,s)=>{St(n)&&(n=[n]),n.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,Xl(t,s))},Jh=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=e.languages[0],r=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=e.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(s,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(s,t)&&(!r||o(i,t)))},Xh=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Lr("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}):Jh(t,e,n)},St=t=>typeof t=="string",Zh=t=>typeof t=="object"&&t!==null,Qh=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ep={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},tp=t=>ep[t],np=t=>t.replace(Qh,tp);let Ir={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:np};const sp=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ir={...Ir,...t}},rp=()=>Ir;let Zl;const ip=t=>{Zl=t},op=()=>Zl,ap={type:"3rdParty",init(t){sp(t.options.react),ip(t)}},lp=m.createContext();class cp{constructor(){X(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}const up=(t,e)=>{const n=m.useRef();return m.useEffect(()=>{n.current=t},[t,e]),n.current},Ql=(t,e,n,s)=>t.getFixedT(e,n,s),fp=(t,e,n,s)=>m.useCallback(Ql(t,e,n,s),[t,e,n,s]),He=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:s,defaultNS:r}=m.useContext(lp)||{},i=n||s||op();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new cp),!i){Lr("You will need to pass in an i18next instance by using initReactI18next");const S=(E,T)=>St(T)?T:Zh(T)&&St(T.defaultValue)?T.defaultValue:Array.isArray(E)?E[E.length-1]:E,C=[S,{},!1];return C.t=S,C.i18n={},C.ready=!1,C}i.options.react&&i.options.react.wait!==void 0&&Lr("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...rp(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=r||i.options&&i.options.defaultNS;c=St(c)?[c]:c||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(c);const u=(i.isInitialized||i.initializedStoreOnce)&&c.every(S=>Xh(S,i,o)),f=fp(i,e.lng||null,o.nsMode==="fallback"?c:c[0],l),d=()=>f,h=()=>Ql(i,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[p,g]=m.useState(d);let b=c.join();e.lng&&(b=`${e.lng}${b}`);const x=up(b),v=m.useRef(!0);m.useEffect(()=>{const{bindI18n:S,bindI18nStore:C}=o;v.current=!0,!u&&!a&&(e.lng?Eo(i,e.lng,c,()=>{v.current&&g(h)}):To(i,c,()=>{v.current&&g(h)})),u&&x&&x!==b&&v.current&&g(h);const E=()=>{v.current&&g(h)};return S&&i&&i.on(S,E),C&&i&&i.store.on(C,E),()=>{v.current=!1,S&&i&&S.split(" ").forEach(T=>i.off(T,E)),C&&i&&C.split(" ").forEach(T=>i.store.off(T,E))}},[i,b]),m.useEffect(()=>{v.current&&u&&g(d)},[i,l,u]);const w=[p,i,u];if(w.t=p,w.i18n=i,w.ready=u,u||!u&&!a)return w;throw new Promise(S=>{e.lng?Eo(i,e.lng,c,()=>S()):To(i,c,()=>S())})};function dp(){const{t}=He();return y.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 h-[90vh] overflow-auto",children:[y.jsx(Be,{className:"text-left",children:y.jsxs("div",{className:"flex flex-col space-y-1.5 p-6 pb-3",children:[y.jsx("h3",{className:"font-semibold leading-none tracking-tight text-base",children:t("introduce")}),y.jsx("p",{className:"text-sm max-w-lg text-balance leading-relaxed",children:t("description")}),y.jsxs("p",{className:"text-sm max-w-lg text-balance leading-relaxed",children:[y.jsx("a",{href:"/contact",className:"text-primary hover:underline",children:t("other.contactUs")})," ","|"," ",y.jsx("a",{href:"/privacy",className:"text-primary hover:underline",children:t("other.privacyPolicy")})," ","|"," ",y.jsx("a",{href:"/terms",className:"text-primary hover:underline",children:t("other.termsOfService")})]})]})}),y.jsx(Be,{className:"text-left",children:y.jsxs("div",{className:"flex flex-col space-y-1.5 p-6 pb-3 prose",children:[y.jsx("h3",{className:"font-semibold leading-none tracking-tight text-base",children:t("features.title")}),y.jsxs("ul",{className:"text-sm max-w-lg text-balance leading-relaxed list-disc pl-5 space-y-2",children:[y.jsxs("li",{children:[y.jsxs("strong",{children:[t("features.quickActions"),":"]})," ",t("features.quickActionsDescription")]}),y.jsxs("li",{children:[y.jsxs("strong",{children:[t("features.floatingMenu"),":"]})," ",t("features.floatingMenuDescription")]}),y.jsxs("li",{children:[y.jsxs("strong",{children:[t("features.i18n"),":"]})," ",t("features.i18nDescription")]}),y.jsxs("li",{children:[y.jsxs("strong",{children:[t("features.theme"),":"]})," ",t("features.themeDescription")]})]})]})}),y.jsx(Be,{className:"text-left",children:y.jsxs("div",{className:"flex flex-col space-y-1.5 p-6 pb-3",children:[y.jsx("h3",{className:"font-semibold leading-none tracking-tight text-base",children:"Feedback"}),y.jsx("p",{className:"text-sm max-w-lg text-balance leading-relaxed",children:"We are always looking for feedback to improve our product. Please let us know if you have any suggestions."})]})})]})}var hp="Label",ec=m.forwardRef((t,e)=>y.jsx(Re.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ec.displayName=hp;var tc=ec;const pp=Nf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Et=m.forwardRef(({className:t,...e},n)=>y.jsx(tc,{ref:n,className:De(pp(),t),...e}));Et.displayName=tc.displayName;function mp(t){const e=t+"CollectionProvider",[n,s]=fi(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:p,children:g}=h,b=oe.useRef(null),x=oe.useRef(new Map).current;return y.jsx(r,{scope:p,itemMap:x,collectionRef:b,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=oe.forwardRef((h,p)=>{const{scope:g,children:b}=h,x=i(a,g),v=Ie(p,x.collectionRef);return y.jsx(Tr,{ref:v,children:b})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",f=oe.forwardRef((h,p)=>{const{scope:g,children:b,...x}=h,v=oe.useRef(null),w=Ie(p,v),S=i(c,g);return oe.useEffect(()=>(S.itemMap.set(v,{ref:v,...x}),()=>void S.itemMap.delete(v))),y.jsx(Tr,{[u]:"",ref:w,children:b})});f.displayName=c;function d(h){const p=i(t+"CollectionConsumer",h);return oe.useCallback(()=>{const b=p.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((S,C)=>x.indexOf(S.ref.current)-x.indexOf(C.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},d,s]}var gp=m.createContext(void 0);function nc(t){const e=m.useContext(gp);return t||e||"ltr"}var tr="rovingFocusGroup.onEntryFocus",yp={bubbles:!1,cancelable:!0},Us="RovingFocusGroup",[Dr,sc,xp]=mp(Us),[vp,rc]=fi(Us,[xp]),[bp,wp]=vp(Us),ic=m.forwardRef((t,e)=>y.jsx(Dr.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(Dr.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(Sp,{...t,ref:e})})}));ic.displayName=Us;var Sp=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,d=m.useRef(null),h=Ie(e,d),p=nc(i),[g=null,b]=mi({prop:o,defaultProp:a,onChange:l}),[x,v]=m.useState(!1),w=kt(c),S=sc(n),C=m.useRef(!1),[E,T]=m.useState(0);return m.useEffect(()=>{const R=d.current;if(R)return R.addEventListener(tr,w),()=>R.removeEventListener(tr,w)},[w]),y.jsx(bp,{scope:n,orientation:s,dir:p,loop:r,currentTabStopId:g,onItemFocus:m.useCallback(R=>b(R),[b]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>T(R=>R+1),[]),onFocusableItemRemove:m.useCallback(()=>T(R=>R-1),[]),children:y.jsx(Re.div,{tabIndex:x||E===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:ae(t.onMouseDown,()=>{C.current=!0}),onFocus:ae(t.onFocus,R=>{const L=!C.current;if(R.target===R.currentTarget&&L&&!x){const A=new CustomEvent(tr,yp);if(R.currentTarget.dispatchEvent(A),!A.defaultPrevented){const _=S().filter(M=>M.focusable),B=_.find(M=>M.active),D=_.find(M=>M.id===g),U=[B,D,..._].filter(Boolean).map(M=>M.ref.current);lc(U,u)}}C.current=!1}),onBlur:ae(t.onBlur,()=>v(!1))})})}),oc="RovingFocusGroupItem",ac=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,...o}=t,a=vl(),l=i||a,c=wp(oc,n),u=c.currentTabStopId===l,f=sc(n),{onFocusableItemAdd:d,onFocusableItemRemove:h}=c;return m.useEffect(()=>{if(s)return d(),()=>h()},[s,d,h]),y.jsx(Dr.ItemSlot,{scope:n,id:l,focusable:s,active:r,children:y.jsx(Re.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ae(t.onMouseDown,p=>{s?c.onItemFocus(l):p.preventDefault()}),onFocus:ae(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ae(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=Ep(p,c.orientation,c.dir);if(g!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let x=f().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const v=x.indexOf(p.currentTarget);x=c.loop?Rp(x,v+1):x.slice(v+1)}setTimeout(()=>lc(x))}})})})});ac.displayName=oc;var Cp={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Tp(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ep(t,e,n){const s=Tp(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Cp[s]}function lc(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function Rp(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var Pp=ic,kp=ac;function Ap(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var xi="Radio",[Np,cc]=ri(xi),[Op,Lp]=Np(xi),uc=m.forwardRef((t,e)=>{const{__scopeRadio:n,name:s,checked:r=!1,required:i,disabled:o,value:a="on",onCheck:l,form:c,...u}=t,[f,d]=m.useState(null),h=Ie(e,b=>d(b)),p=m.useRef(!1),g=f?c||!!f.closest("form"):!0;return y.jsxs(Op,{scope:n,checked:r,disabled:o,children:[y.jsx(Re.button,{type:"button",role:"radio","aria-checked":r,"data-state":hc(r),"data-disabled":o?"":void 0,disabled:o,value:a,...u,ref:h,onClick:ae(t.onClick,b=>{r||l==null||l(),g&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),g&&y.jsx(Ip,{control:f,bubbles:!p.current,name:s,value:a,checked:r,required:i,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});uc.displayName=xi;var fc="RadioIndicator",dc=m.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:s,...r}=t,i=Lp(fc,n);return y.jsx(pi,{present:s||i.checked,children:y.jsx(Re.span,{"data-state":hc(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})})});dc.displayName=fc;var Ip=t=>{const{control:e,checked:n,bubbles:s=!0,...r}=t,i=m.useRef(null),o=Ap(n),a=Al(e);return m.useEffect(()=>{const l=i.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&f){const d=new Event("click",{bubbles:s});f.call(l,n),l.dispatchEvent(d)}},[o,n,s]),y.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hc(t){return t?"checked":"unchecked"}var Dp=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vi="RadioGroup",[jp,nw]=ri(vi,[rc,cc]),pc=rc(),mc=cc(),[_p,Mp]=jp(vi),gc=m.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:s,defaultValue:r,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:u=!0,onValueChange:f,...d}=t,h=pc(n),p=nc(c),[g,b]=mi({prop:i,defaultProp:r,onChange:f});return y.jsx(_p,{scope:n,name:s,required:o,disabled:a,value:g,onValueChange:b,children:y.jsx(Pp,{asChild:!0,...h,orientation:l,dir:p,loop:u,children:y.jsx(Re.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:p,...d,ref:e})})})});gc.displayName=vi;var yc="RadioGroupItem",xc=m.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:s,...r}=t,i=Mp(yc,n),o=i.disabled||s,a=pc(n),l=mc(n),c=m.useRef(null),u=Ie(e,c),f=i.value===r.value,d=m.useRef(!1);return m.useEffect(()=>{const h=g=>{Dp.includes(g.key)&&(d.current=!0)},p=()=>d.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",p)}},[]),y.jsx(kp,{asChild:!0,...a,focusable:!o,active:f,children:y.jsx(uc,{disabled:o,required:i.required,checked:f,...l,...r,name:i.name,ref:u,onCheck:()=>i.onValueChange(r.value),onKeyDown:ae(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:ae(r.onFocus,()=>{var h;d.current&&((h=c.current)==null||h.click())})})})});xc.displayName=yc;var Vp="RadioGroupIndicator",vc=m.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...s}=t,r=mc(n);return y.jsx(dc,{...r,...s,ref:e})});vc.displayName=Vp;var bc=gc,wc=xc,Fp=vc;const bi=m.forwardRef(({className:t,...e},n)=>y.jsx(bc,{className:De("grid gap-2",t),...e,ref:n}));bi.displayName=bc.displayName;const wi=m.forwardRef(({className:t,...e},n)=>y.jsx(wc,{ref:n,className:De("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:y.jsx(Fp,{className:"flex items-center justify-center",children:y.jsx(Df,{className:"h-2.5 w-2.5 fill-current text-current"})})}));wi.displayName=wc.displayName;const Sc=m.createContext({theme:"light",toggleTheme:t=>{}}),Cc=()=>m.useContext(Sc),$p=({children:t})=>{const[e,n]=m.useState("light"),s=i=>{n(i)};async function r(){let i=await Ne.storage.local.get("theme");i.theme&&n(i.theme)}return m.useEffect(()=>{r()},[]),y.jsx(Sc.Provider,{value:{theme:e,toggleTheme:s},children:t})};function Bp(){const{theme:t,toggleTheme:e}=Cc(),n=["light","dark"],{t:s}=He();return y.jsxs(Be,{children:[y.jsx("div",{className:"space-y-1.5 p-6 pb-3",children:y.jsx("h3",{className:"font-semibold text-left text-base",children:s("themeSettings")})}),y.jsx(bi,{defaultValue:t,value:t,className:"p-6 pt-2",children:n&&n.map((r,i,o)=>y.jsxs("div",{className:"flex items-center space-y-1.5 justify-between",onClick:async()=>{e(r),await Ne.runtime.sendMessage({messageType:bt.changeTheme,content:r}),await Ne.storage.local.set({theme:r})},children:[y.jsx(Et,{htmlFor:`r${i}`,children:r}),y.jsx(wi,{value:r,id:`r${i}`})]},i))})]})}const fs={locales:["en","zh_CN"],defaultLocale:"en"},Up=[{locale:"en",name:"English"},{locale:"zh_CN",name:""}];function zp(){const{i18n:t}=He(),{t:e}=He();return y.jsxs(Be,{children:[y.jsx("div",{className:"space-y-1.5 p-6 pb-3",children:y.jsx("h3",{className:"font-semibold text-left text-base",children:e("i18nSettings")})}),y.jsx(bi,{defaultValue:t.language,value:t.language,className:"p-6 pt-2",children:Up.map((n,s,r)=>y.jsxs("div",{className:"flex items-center space-y-1.5 justify-between",onClick:async()=>{await t.changeLanguage(n.locale),await Ne.runtime.sendMessage({messageType:bt.changeLocale,content:n.locale}),await Ne.storage.local.set({i18n:n.locale})},children:[y.jsx(Et,{htmlFor:`r${s}`,children:n.name}),y.jsx(wi,{value:`${n.locale}`,id:`r${s}`})]},s))})]})}function Wp(){return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[y.jsx(zp,{}),y.jsx(Bp,{})]})})}const Hp=({headTitle:t})=>{const{t:e}=He();return y.jsx("div",{className:"flex justify-start w-full h-[40px] border-b-[1px] p-4 text-card-foreground text-2xl items-center font-bold",children:e(t)})},cn="https://workers-d1-hono-drizzle-template.ym911216.workers.dev",Tc=m.createContext({user:null,loading:!0,error:null,signIn:async()=>({data:null,error:null}),signOut:async()=>({data:null,error:null}),signUp:async()=>({data:null,error:null})}),Ec=()=>m.useContext(Tc),Kp=({children:t})=>{const[e,n]=m.useState(null),[s,r]=m.useState(!1),[i,o]=m.useState(null),a=async(u,f)=>{r(!0);const d=await fetch(`${cn}/api/users/sign-in`,{method:"POST",body:JSON.stringify({email:u,password:f}),headers:{"Content-Type":"application/json",credentials:"include"}}),h=d.status,p=await d.json();if(h===200){const{data:g}=await Gp();if(!g)throw new Error("Failed to fetch user data");return n(g),r(!1),{data:p,error:null}}else return r(!1),{data:null,error:new Error(p.message)}},l=async()=>{r(!0);const u=await fetch(`${cn}/api/users/sign-out`,{method:"POST",headers:{"Content-Type":"application/json",credentials:"include"}}),f=u.status,d=await u.json();return f===200?(n(null),r(!1),{data:d,error:null}):(r(!1),{data:null,error:new Error(d.message)})},c=async(u,f)=>{r(!0);const d=await fetch(`${cn}/api/users/sign-up`,{method:"POST",body:JSON.stringify({email:u,password:f}),headers:{"Content-Type":"application/json",credentials:"include"}}),h=d.status,p=await d.json();return h===200?(r(!1),{data:p,error:null}):(r(!1),{data:null,error:new Error(p.message)})};return m.useEffect(()=>{(async()=>{r(!0);try{const f=await fetch(`${cn}/api/users`,{credentials:"include"});if(f.status!==200)throw new Error("Failed to fetch user data");const d=await f.json();n(d)}catch(f){o(f)}finally{r(!1)}})()},[]),y.jsx(Tc.Provider,{value:{user:e,loading:s,error:i,signIn:a,signOut:l,signUp:c},children:t})},Gp=async()=>{try{const t=await fetch(`${cn}/api/users`,{credentials:"include"});if(t.status!==200)throw new Error("Failed to fetch user data");const e=await t.json();return{data:{id:e.id,email:e.email,firstName:e.first_name,lastName:e.last_name,createdAt:e.created_at,updatedAt:e.updated_at},error:null}}catch(t){return{data:null,error:t}}},bn=m.forwardRef(({className:t,type:e,...n},s)=>y.jsx("input",{type:e,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));bn.displayName="Input";function Yp({signIn:t,loading:e}){const[n,s]=m.useState(""),[r,i]=m.useState(""),[o,a]=m.useState(null),{t:l}=He(),c=async()=>{const{data:u,error:f}=await t(n,r);f&&a(f)};return y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsx("div",{className:"w-96",children:y.jsx(Be,{children:y.jsxs("div",{className:"flex flex-col space-y-4 p-6",children:[y.jsx("h3",{className:"font-semibold leading-none tracking-tight text-base",children:l("signIn")}),y.jsx(Et,{children:l("email")}),y.jsx(bn,{value:n,onChange:u=>s(u.target.value)}),y.jsx(Et,{children:l("password")}),y.jsx(bn,{type:"password",value:r,onChange:u=>i(u.target.value)}),o&&y.jsx("div",{className:"text-red-500 text-sm",children:l("invalidCredentials")}),y.jsx(be,{onClick:c,loading:e,disabled:e,children:l("signIn")})]})})})})}function qp({signUp:t,loading:e}){const[n,s]=m.useState(""),[r,i]=m.useState(""),[o,a]=m.useState(null),{t:l}=He(),c=async()=>{const{data:u,error:f}=await t(n,r);f&&a(f)};return y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsx("div",{className:"w-96",children:y.jsx(Be,{children:y.jsxs("div",{className:"flex flex-col space-y-4 p-6",children:[y.jsx("h3",{className:"font-semibold leading-none tracking-tight text-base",children:l("signUp")}),y.jsx(Et,{children:l("email")}),y.jsx(bn,{value:n,onChange:u=>s(u.target.value)}),y.jsx(Et,{children:l("password")}),y.jsx(bn,{type:"password",value:r,onChange:u=>i(u.target.value)}),o&&y.jsx("div",{className:"text-red-500 text-sm",children:l("invalidCredentials")}),y.jsx(be,{onClick:c,loading:e,disabled:e,children:l("signUp")})]})})})})}function Jp({signIn:t,signUp:e,loading:n}){const{t:s}=He(),[r,i]=m.useState(!0);return y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsxs("div",{className:"w-96",children:[r?y.jsx(Yp,{signIn:t,loading:n}):y.jsx(qp,{signUp:e,loading:n}),y.jsx("div",{className:"flex justify-center mt-4",children:y.jsx(be,{onClick:()=>i(!r),size:"sm",variant:"link",loading:n,children:r?s("needAnAccount")+" "+s("signUp"):s("haveAnAccount")+" "+s("signIn")})})]})})}function Xp(){const{t}=He(),{user:e,signOut:n}=Ec();return y.jsxs("div",{className:"flex flex-col w-full gap-4",children:[y.jsxs(Be,{className:"flex flex-col p-6 pb-3",children:[y.jsx("h3",{className:"font-semibold leading-none tracking-tight text-base",children:t("profile")}),y.jsxs("ul",{className:"text-sm max-w-lg text-balance leading-relaxed list-disc pl-5 space-y-2",children:[y.jsx("li",{children:y.jsxs("strong",{children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})}),y.jsxs("li",{children:[y.jsxs("strong",{children:[t("email"),":"]})," ",e==null?void 0:e.email]})]})]}),y.jsx(be,{onClick:()=>{n()},children:t("signOut")})]})}const Rc=m.forwardRef(({className:t,...e},n)=>y.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Rc.displayName="Textarea";let Zp=(t,e=21)=>(n=e)=>{let s="",r=n;for(;r--;)s+=t[Math.random()*t.length|0];return s};var Zt={exports:{}};const Qp=typeof Buffer<"u",Ro=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Po=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function Pc(t,e,n){n==null&&e!==null&&typeof e=="object"&&(n=e,e=void 0),Qp&&Buffer.isBuffer(t)&&(t=t.toString()),t&&t.charCodeAt(0)===65279&&(t=t.slice(1));const s=JSON.parse(t,e);if(s===null||typeof s!="object")return s;const r=n&&n.protoAction||"error",i=n&&n.constructorAction||"error";if(r==="ignore"&&i==="ignore")return s;if(r!=="ignore"&&i!=="ignore"){if(Ro.test(t)===!1&&Po.test(t)===!1)return s}else if(r!=="ignore"&&i==="ignore"){if(Ro.test(t)===!1)return s}else if(Po.test(t)===!1)return s;return kc(s,{protoAction:r,constructorAction:i,safe:n&&n.safe})}function kc(t,{protoAction:e="error",constructorAction:n="error",safe:s}={}){let r=[t];for(;r.length;){const i=r;r=[];for(const o of i){if(e!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(s===!0)return null;if(e==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(s===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(const a in o){const l=o[a];l&&typeof l=="object"&&r.push(l)}}}return t}function Si(t,e,n){const s=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Pc(t,e,n)}finally{Error.stackTraceLimit=s}}function em(t,e){const n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Pc(t,e,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=n}}Zt.exports=Si;Zt.exports.default=Si;Zt.exports.parse=Si;Zt.exports.safeParse=em;Zt.exports.scan=kc;var tm=Zt.exports;const ko=Of(tm);var nm=({prefix:t="",size:e=7,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"}={})=>{const s=Zp(n,e);return r=>`${t}${s(r)}`},Ac=nm();function sm(t){const e=["ROOT"];let n=-1,s=null;function r(l,c,u){switch(l){case'"':{n=c,e.pop(),e.push(u),e.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=c,s=c,e.pop(),e.push(u),e.push("INSIDE_LITERAL");break}case"-":{e.pop(),e.push(u),e.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=c,e.pop(),e.push(u),e.push("INSIDE_NUMBER");break}case"{":{n=c,e.pop(),e.push(u),e.push("INSIDE_OBJECT_START");break}case"[":{n=c,e.pop(),e.push(u),e.push("INSIDE_ARRAY_START");break}}}function i(l,c){switch(l){case",":{e.pop(),e.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=c,e.pop();break}}}function o(l,c){switch(l){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=c,e.pop();break}}}for(let l=0;l<t.length;l++){const c=t[l];switch(e[e.length-1]){case"ROOT":r(c,l,"FINISH");break;case"INSIDE_OBJECT_START":{switch(c){case'"':{e.pop(),e.push("INSIDE_OBJECT_KEY");break}case"}":{n=l,e.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(c){case'"':{e.pop(),e.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(c){case'"':{e.pop(),e.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(c){case":":{e.pop(),e.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{r(c,l,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{i(c,l);break}case"INSIDE_STRING":{switch(c){case'"':{e.pop(),n=l;break}case"\\":{e.push("INSIDE_STRING_ESCAPE");break}default:n=l}break}case"INSIDE_ARRAY_START":{switch(c){case"]":{n=l,e.pop();break}default:{n=l,r(c,l,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(c){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=l,e.pop();break}default:{n=l;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{r(c,l,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{e.pop(),n=l;break}case"INSIDE_NUMBER":{switch(c){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=l;break}case"e":case"E":case"-":case".":break;case",":{e.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(c,l),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(c,l);break}case"}":{e.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(c,l);break}case"]":{e.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(c,l);break}default:{e.pop();break}}break}case"INSIDE_LITERAL":{const f=t.substring(s,l+1);!"false".startsWith(f)&&!"true".startsWith(f)&&!"null".startsWith(f)?(e.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?i(c,l):e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(c,l)):n=l;break}}}let a=t.slice(0,n+1);for(let l=e.length-1;l>=0;l--)switch(e[l]){case"INSIDE_STRING":{a+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{a+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{a+="]";break}case"INSIDE_LITERAL":{const u=t.substring(s,t.length);"true".startsWith(u)?a+="true".slice(u.length):"false".startsWith(u)?a+="false".slice(u.length):"null".startsWith(u)&&(a+="null".slice(u.length))}}return a}function rm(t){if(t===void 0)return{value:void 0,state:"undefined-input"};try{return{value:ko.parse(t),state:"successful-parse"}}catch{try{return{value:ko.parse(sm(t)),state:"repaired-parse"}}catch{}}return{value:void 0,state:"failed-parse"}}var wn={code:"0",name:"text",parse:t=>{if(typeof t!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:t}}},Sn={code:"1",name:"function_call",parse:t=>{if(t==null||typeof t!="object"||!("function_call"in t)||typeof t.function_call!="object"||t.function_call==null||!("name"in t.function_call)||!("arguments"in t.function_call)||typeof t.function_call.name!="string"||typeof t.function_call.arguments!="string")throw new Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:t}}},Cn={code:"2",name:"data",parse:t=>{if(!Array.isArray(t))throw new Error('"data" parts expect an array value.');return{type:"data",value:t}}},Tn={code:"3",name:"error",parse:t=>{if(typeof t!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:t}}},En={code:"4",name:"assistant_message",parse:t=>{if(t==null||typeof t!="object"||!("id"in t)||!("role"in t)||!("content"in t)||typeof t.id!="string"||typeof t.role!="string"||t.role!=="assistant"||!Array.isArray(t.content)||!t.content.every(e=>e!=null&&typeof e=="object"&&"type"in e&&e.type==="text"&&"text"in e&&e.text!=null&&typeof e.text=="object"&&"value"in e.text&&typeof e.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:t}}},Rn={code:"5",name:"assistant_control_data",parse:t=>{if(t==null||typeof t!="object"||!("threadId"in t)||!("messageId"in t)||typeof t.threadId!="string"||typeof t.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:t.threadId,messageId:t.messageId}}}},Pn={code:"6",name:"data_message",parse:t=>{if(t==null||typeof t!="object"||!("role"in t)||!("data"in t)||typeof t.role!="string"||t.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:t}}},kn={code:"7",name:"tool_calls",parse:t=>{if(t==null||typeof t!="object"||!("tool_calls"in t)||typeof t.tool_calls!="object"||t.tool_calls==null||!Array.isArray(t.tool_calls)||t.tool_calls.some(e=>e==null||typeof e!="object"||!("id"in e)||typeof e.id!="string"||!("type"in e)||typeof e.type!="string"||!("function"in e)||e.function==null||typeof e.function!="object"||!("arguments"in e.function)||typeof e.function.name!="string"||typeof e.function.arguments!="string"))throw new Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:t}}},An={code:"8",name:"message_annotations",parse:t=>{if(!Array.isArray(t))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:t}}},Nn={code:"9",name:"tool_call",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("toolName"in t)||typeof t.toolName!="string"||!("args"in t)||typeof t.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:t}}},On={code:"a",name:"tool_result",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("result"in t))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:t}}},Ln={code:"b",name:"tool_call_streaming_start",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("toolName"in t)||typeof t.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:t}}},In={code:"c",name:"tool_call_delta",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("argsTextDelta"in t)||typeof t.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:t}}},Dn={code:"d",name:"finish_message",parse:t=>{if(t==null||typeof t!="object"||!("finishReason"in t)||typeof t.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const e={finishReason:t.finishReason};return"usage"in t&&t.usage!=null&&typeof t.usage=="object"&&"promptTokens"in t.usage&&"completionTokens"in t.usage&&(e.usage={promptTokens:typeof t.usage.promptTokens=="number"?t.usage.promptTokens:Number.NaN,completionTokens:typeof t.usage.completionTokens=="number"?t.usage.completionTokens:Number.NaN}),{type:"finish_message",value:e}}},jn={code:"e",name:"finish_step",parse:t=>{if(t==null||typeof t!="object"||!("finishReason"in t)||typeof t.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const e={finishReason:t.finishReason,isContinued:!1};return"usage"in t&&t.usage!=null&&typeof t.usage=="object"&&"promptTokens"in t.usage&&"completionTokens"in t.usage&&(e.usage={promptTokens:typeof t.usage.promptTokens=="number"?t.usage.promptTokens:Number.NaN,completionTokens:typeof t.usage.completionTokens=="number"?t.usage.completionTokens:Number.NaN}),"isContinued"in t&&typeof t.isContinued=="boolean"&&(e.isContinued=t.isContinued),{type:"finish_step",value:e}}},im=[wn,Sn,Cn,Tn,En,Rn,Pn,kn,An,Nn,On,Ln,In,Dn,jn],om={[wn.code]:wn,[Sn.code]:Sn,[Cn.code]:Cn,[Tn.code]:Tn,[En.code]:En,[Rn.code]:Rn,[Pn.code]:Pn,[kn.code]:kn,[An.code]:An,[Nn.code]:Nn,[On.code]:On,[Ln.code]:Ln,[In.code]:In,[Dn.code]:Dn,[jn.code]:jn};wn.name+"",wn.code,Sn.name+"",Sn.code,Cn.name+"",Cn.code,Tn.name+"",Tn.code,En.name+"",En.code,Rn.name+"",Rn.code,Pn.name+"",Pn.code,kn.name+"",kn.code,An.name+"",An.code,Nn.name+"",Nn.code,On.name+"",On.code,Ln.name+"",Ln.code,In.name+"",In.code,Dn.name+"",Dn.code,jn.name+"",jn.code;var am=im.map(t=>t.code),lm=t=>{const e=t.indexOf(":");if(e===-1)throw new Error("Failed to parse stream string. No separator found.");const n=t.slice(0,e);if(!am.includes(n))throw new Error(`Failed to parse stream string. Invalid code ${n}.`);const s=n,r=t.slice(e+1),i=JSON.parse(r);return om[s].parse(i)},cm=10;function um(t,e){const n=new Uint8Array(e);let s=0;for(const r of t)n.set(r,s),s+=r.length;return t.length=0,n}async function*fm(t,{isAborted:e}={}){const n=new TextDecoder,s=[];let r=0;for(;;){const{value:i}=await t.read();if(i&&(s.push(i),r+=i.length,i[i.length-1]!==cm))continue;if(s.length===0)break;const o=um(s,r);r=0;const a=n.decode(o,{stream:!0}).split(`
`).filter(l=>l!=="").map(lm);for(const l of a)yield l;if(e!=null&&e()){t.cancel();break}}}function Qn(t,e){return!t||!e||!e.length?t:{...t,annotations:[...e]}}async function dm({reader:t,abortControllerRef:e,update:n,onToolCall:s,onFinish:r,generateId:i=Ac,getCurrentDate:o=()=>new Date}){var a;const l=o();let c={},u;const f=[],d=[];let h;const p={};let g={completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},b="unknown";for await(const{type:x,value:v}of fm(t,{isAborted:()=>(e==null?void 0:e.current)===null})){if(x==="error")throw new Error(v);if(x==="finish_step"){v.isContinued||(u={});continue}if(x==="finish_message"){if(b=v.finishReason,v.usage!=null){const{completionTokens:T,promptTokens:R}=v.usage;g={completionTokens:T,promptTokens:R,totalTokens:T+R}}continue}if(u&&(c.text&&f.push(c.text),c.function_call&&f.push(c.function_call),c.tool_calls&&f.push(c.tool_calls),c=u,u=void 0),x==="text"&&(c.text?c.text={...c.text,content:(c.text.content||"")+v}:c.text={id:i(),role:"assistant",content:v,createdAt:l}),x==="tool_call_streaming_start")c.text==null&&(c.text={id:i(),role:"assistant",content:"",createdAt:l}),c.text.toolInvocations==null&&(c.text.toolInvocations=[]),p[v.toolCallId]={text:"",toolName:v.toolName,prefixMapIndex:c.text.toolInvocations.length},c.text.toolInvocations.push({state:"partial-call",toolCallId:v.toolCallId,toolName:v.toolName,args:void 0});else if(x==="tool_call_delta"){const T=p[v.toolCallId];T.text+=v.argsTextDelta;const{value:R}=rm(T.text);c.text.toolInvocations[T.prefixMapIndex]={state:"partial-call",toolCallId:v.toolCallId,toolName:T.toolName,args:R},c.text.internalUpdateId=i()}else if(x==="tool_call"){if(p[v.toolCallId]!=null?c.text.toolInvocations[p[v.toolCallId].prefixMapIndex]={state:"call",...v}:(c.text==null&&(c.text={id:i(),role:"assistant",content:"",createdAt:l}),c.text.toolInvocations==null&&(c.text.toolInvocations=[]),c.text.toolInvocations.push({state:"call",...v})),c.text.internalUpdateId=i(),s){const T=await s({toolCall:v});T!=null&&(c.text.toolInvocations[c.text.toolInvocations.length-1]={state:"result",...v,result:T})}}else if(x==="tool_result"){const T=(a=c.text)==null?void 0:a.toolInvocations;if(T==null)throw new Error("tool_result must be preceded by a tool_call");const R=T.findIndex(L=>L.toolCallId===v.toolCallId);if(R===-1)throw new Error("tool_result must be preceded by a tool_call with the same toolCallId");T[R]={...T[R],state:"result",...v}}let w=null;x==="function_call"&&(c.function_call={id:i(),role:"assistant",content:"",function_call:v.function_call,name:v.function_call.name,createdAt:l},w=c.function_call);let S=null;x==="tool_calls"&&(c.tool_calls={id:i(),role:"assistant",content:"",tool_calls:v.tool_calls,createdAt:l},S=c.tool_calls),x==="data"&&d.push(...v);let C=c.text;x==="message_annotations"&&(h?h.push(...v):h=[...v],w=Qn(c.function_call,h),S=Qn(c.tool_calls,h),C=Qn(c.text,h)),h!=null&&h.length&&(c.text&&(c.text.annotations=[...h]),c.function_call&&(c.function_call.annotations=[...h]),c.tool_calls&&(c.tool_calls.annotations=[...h]));const E=[w,S,C].filter(Boolean).map(T=>({...Qn(T,h)}));n([...f,...E],[...d])}return r==null||r({message:c.text,finishReason:b,usage:g}),{messages:[c.text,c.function_call,c.tool_calls].filter(Boolean),data:d}}var hm=()=>fetch;async function pm({api:t,body:e,streamProtocol:n="data",credentials:s,headers:r,abortController:i,restoreMessagesOnFailure:o,onResponse:a,onUpdate:l,onFinish:c,onToolCall:u,generateId:f,fetch:d=hm()}){var h,p;const g=await d(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",...r},signal:(h=i==null?void 0:i())==null?void 0:h.signal,credentials:s}).catch(x=>{throw o(),x});if(a)try{await a(g)}catch(x){throw x}if(!g.ok)throw o(),new Error((p=await g.text())!=null?p:"Failed to fetch the chat response.");if(!g.body)throw new Error("The response body is empty.");const b=g.body.getReader();switch(n){case"text":{const x=mm(),v={id:f(),createdAt:new Date,role:"assistant",content:""};for(;;){const{done:w,value:S}=await b.read();if(w)break;if(v.content+=x(S),l([{...v}],[]),(i==null?void 0:i())===null){b.cancel();break}}return c==null||c(v,{usage:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},finishReason:"unknown"}),{messages:[v],data:[]}}case"data":return await dm({reader:b,abortControllerRef:i!=null?{current:i()}:void 0,update:l,onToolCall:u,onFinish({message:x,finishReason:v,usage:w}){c&&x!=null&&c(x,{usage:w,finishReason:v})},generateId:f});default:{const x=n;throw new Error(`Unknown stream protocol: ${x}`)}}}function mm(t){const e=new TextDecoder;return function(n){return n?e.decode(n,{stream:!0}):""}}async function gm({getStreamedResponse:t,experimental_onFunctionCall:e,experimental_onToolCall:n,updateChatRequest:s,getCurrentMessages:r}){for(;;){const i=await t();if("messages"in i){let o=!1;for(const a of i.messages)if(!((a.function_call===void 0||typeof a.function_call=="string")&&(a.tool_calls===void 0||typeof a.tool_calls=="string"))){if(o=!0,e){const l=a.function_call;if(typeof l!="object"){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}const c=await e(r(),l);if(c===void 0){o=!1;break}s(c)}if(n){const l=a.tool_calls;if(!Array.isArray(l)||l.some(u=>typeof u!="object")){console.warn("experimental_onToolCall should not be defined when using tools");continue}const c=await n(r(),l);if(c===void 0){o=!1;break}s(c)}}if(!o)break}else{let o=function(l){for(const c of l.messages){if(c.tool_calls!==void 0)for(const u of c.tool_calls)typeof u=="object"&&u.function.arguments&&typeof u.function.arguments!="string"&&(u.function.arguments=JSON.stringify(u.function.arguments));c.function_call!==void 0&&typeof c.function_call=="object"&&c.function_call.arguments&&typeof c.function_call.arguments!="string"&&(c.function_call.arguments=JSON.stringify(c.function_call.arguments))}};const a=i;if((a.function_call===void 0||typeof a.function_call=="string")&&(a.tool_calls===void 0||typeof a.tool_calls=="string"))break;if(e){const l=a.function_call;if(typeof l!="object"){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}const c=await e(r(),l);if(c===void 0)break;o(c),s(c)}if(n){const l=a.tool_calls;if(typeof l!="object"){console.warn("experimental_onToolCall should not be defined when using functions");continue}const c=await n(r(),l);if(c===void 0)break;o(c),s(c)}}}}var Nc={exports:{}},Oc={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=m;function ym(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xm=typeof Object.is=="function"?Object.is:ym,vm=Kt.useState,bm=Kt.useEffect,wm=Kt.useLayoutEffect,Sm=Kt.useDebugValue;function Cm(t,e){var n=e(),s=vm({inst:{value:n,getSnapshot:e}}),r=s[0].inst,i=s[1];return wm(function(){r.value=n,r.getSnapshot=e,nr(r)&&i({inst:r})},[t,n,e]),bm(function(){return nr(r)&&i({inst:r}),t(function(){nr(r)&&i({inst:r})})},[t]),Sm(n),n}function nr(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xm(t,n)}catch{return!0}}function Tm(t,e){return e()}var Em=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tm:Cm;Oc.useSyncExternalStore=Kt.useSyncExternalStore!==void 0?Kt.useSyncExternalStore:Em;Nc.exports=Oc;var Rm=Nc.exports;const rt=()=>{},we=rt(),sr=Object,K=t=>t===we,Fe=t=>typeof t=="function",ct=(t,e)=>({...t,...e}),Pm=t=>Fe(t.then),es=new WeakMap;let km=0;const _n=t=>{const e=typeof t,n=t&&t.constructor,s=n==Date;let r,i;if(sr(t)===t&&!s&&n!=RegExp){if(r=es.get(t),r)return r;if(r=++km+"~",es.set(t,r),n==Array){for(r="@",i=0;i<t.length;i++)r+=_n(t[i])+",";es.set(t,r)}if(n==sr){r="#";const o=sr.keys(t).sort();for(;!K(i=o.pop());)K(t[i])||(r+=i+":"+_n(t[i])+",");es.set(t,r)}}else r=s?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return r},Ye=new WeakMap,rr={},ts={},Ci="undefined",zs=typeof window!=Ci,jr=typeof document!=Ci,Am=()=>zs&&typeof window.requestAnimationFrame!=Ci,Lc=(t,e)=>{const n=Ye.get(t);return[()=>!K(e)&&t.get(e)||rr,s=>{if(!K(e)){const r=t.get(e);e in ts||(ts[e]=r),n[5](e,ct(r,s),r||rr)}},n[6],()=>!K(e)&&e in ts?ts[e]:!K(e)&&t.get(e)||rr]};let _r=!0;const Nm=()=>_r,[Mr,Vr]=zs&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[rt,rt],Om=()=>{const t=jr&&document.visibilityState;return K(t)||t!=="hidden"},Lm=t=>(jr&&document.addEventListener("visibilitychange",t),Mr("focus",t),()=>{jr&&document.removeEventListener("visibilitychange",t),Vr("focus",t)}),Im=t=>{const e=()=>{_r=!0,t()},n=()=>{_r=!1};return Mr("online",e),Mr("offline",n),()=>{Vr("online",e),Vr("offline",n)}},Dm={isOnline:Nm,isVisible:Om},jm={initFocus:Lm,initReconnect:Im},Ao=!oe.useId,Mn=!zs||"Deno"in window,_m=t=>Am()?window.requestAnimationFrame(t):setTimeout(t,1),ir=Mn?m.useEffect:m.useLayoutEffect,or=typeof navigator<"u"&&navigator.connection,No=!Mn&&or&&(["slow-2g","2g"].includes(or.effectiveType)||or.saveData),Ti=t=>{if(Fe(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?_n(t):"",[t,e]};let Mm=0;const Fr=()=>++Mm,Ic=0,Dc=1,jc=2,Vm=3;var en={__proto__:null,ERROR_REVALIDATE_EVENT:Vm,FOCUS_EVENT:Ic,MUTATE_EVENT:jc,RECONNECT_EVENT:Dc};async function _c(...t){const[e,n,s,r]=t,i=ct({populateCache:!0,throwOnError:!0},typeof r=="boolean"?{revalidate:r}:r||{});let o=i.populateCache;const a=i.rollbackOnError;let l=i.optimisticData;const c=d=>typeof a=="function"?a(d):a!==!1,u=i.throwOnError;if(Fe(n)){const d=n,h=[],p=e.keys();for(const g of p)!/^\$(inf|sub)\$/.test(g)&&d(e.get(g)._k)&&h.push(g);return Promise.all(h.map(f))}return f(n);async function f(d){const[h]=Ti(d);if(!h)return;const[p,g]=Lc(e,h),[b,x,v,w]=Ye.get(e),S=()=>{const D=b[h];return(Fe(i.revalidate)?i.revalidate(p().data,d):i.revalidate!==!1)&&(delete v[h],delete w[h],D&&D[0])?D[0](jc).then(()=>p().data):p().data};if(t.length<3)return S();let C=s,E;const T=Fr();x[h]=[T,0];const R=!K(l),L=p(),A=L.data,_=L._c,B=K(_)?A:_;if(R&&(l=Fe(l)?l(B,A):l,g({data:l,_c:B})),Fe(C))try{C=C(B)}catch(D){E=D}if(C&&Pm(C))if(C=await C.catch(D=>{E=D}),T!==x[h][0]){if(E)throw E;return C}else E&&R&&c(E)&&(o=!0,g({data:B,_c:we}));if(o&&!E)if(Fe(o)){const D=o(C,B);g({data:D,error:we,_c:we})}else g({data:C,error:we,_c:we});if(x[h][1]=Fr(),Promise.resolve(S()).then(()=>{g({_c:we})}),E){if(u)throw E;return}return C}}const Oo=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},Fm=(t,e)=>{if(!Ye.has(t)){const n=ct(jm,e),s={},r=_c.bind(we,t);let i=rt;const o={},a=(u,f)=>{const d=o[u]||[];return o[u]=d,d.push(f),()=>d.splice(d.indexOf(f),1)},l=(u,f,d)=>{t.set(u,f);const h=o[u];if(h)for(const p of h)p(f,d)},c=()=>{if(!Ye.has(t)&&(Ye.set(t,[s,{},{},{},r,l,a]),!Mn)){const u=n.initFocus(setTimeout.bind(we,Oo.bind(we,s,Ic))),f=n.initReconnect(setTimeout.bind(we,Oo.bind(we,s,Dc)));i=()=>{u&&u(),f&&f(),Ye.delete(t)}}};return c(),[t,r,c,i]}return[t,Ye.get(t)[4]]},$m=(t,e,n,s,r)=>{const i=n.errorRetryCount,o=r.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!K(i)&&o>i||setTimeout(s,a,r)},Bm=(t,e)=>_n(t)==_n(e),[Mc,Um]=Fm(new Map),zm=ct({onLoadingSlow:rt,onSuccess:rt,onError:rt,onErrorRetry:$m,onDiscarded:rt,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:No?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:No?5e3:3e3,compare:Bm,isPaused:()=>!1,cache:Mc,mutate:Um,fallback:{}},Dm),Wm=(t,e)=>{const n=ct(t,e);if(e){const{use:s,fallback:r}=t,{use:i,fallback:o}=e;s&&i&&(n.use=s.concat(i)),r&&o&&(n.fallback=ct(r,o))}return n},Hm=m.createContext({}),Km="$inf$",Vc=zs&&window.__SWR_DEVTOOLS_USE__,Gm=Vc?window.__SWR_DEVTOOLS_USE__:[],Ym=()=>{Vc&&(window.__SWR_DEVTOOLS_REACT__=oe)},qm=t=>Fe(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Jm=()=>ct(zm,m.useContext(Hm)),Xm=t=>(e,n,s)=>t(e,n&&((...i)=>{const[o]=Ti(e),[,,,a]=Ye.get(Mc);if(o.startsWith(Km))return n(...i);const l=a[o];return K(l)?n(...i):(delete a[o],l)}),s),Zm=Gm.concat(Xm),Qm=t=>function(...n){const s=Jm(),[r,i,o]=qm(n),a=Wm(s,o);let l=t;const{use:c}=a,u=(c||[]).concat(Zm);for(let f=u.length;f--;)l=u[f](l);return l(r,i||a.fetcher||null,a)},eg=(t,e,n)=>{const s=e[t]||(e[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r>=0&&(s[r]=s[s.length-1],s.pop())}};Ym();const Lo=oe.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),ar={dedupe:!0},tg=(t,e,n)=>{const{cache:s,compare:r,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:u,refreshWhenOffline:f,keepPreviousData:d}=n,[h,p,g,b]=Ye.get(s),[x,v]=Ti(t),w=m.useRef(!1),S=m.useRef(!1),C=m.useRef(x),E=m.useRef(e),T=m.useRef(n),R=()=>T.current,L=()=>R().isVisible()&&R().isOnline(),[A,_,B,D]=Lc(s,x),k=m.useRef({}).current,U=K(o)?n.fallback[x]:o,M=(Y,H)=>{for(const ne in k){const N=ne;if(N==="data"){if(!r(Y[N],H[N])&&(!K(Y[N])||!r(Me,H[N])))return!1}else if(H[N]!==Y[N])return!1}return!0},j=m.useMemo(()=>{const Y=!x||!e?!1:K(a)?R().isPaused()||i?!1:K(l)?!0:l:a,H=V=>{const se=ct(V);return delete se._k,Y?{isValidating:!0,isLoading:!0,...se}:se},ne=A(),N=D(),z=H(ne),q=ne===N?z:H(N);let W=z;return[()=>{const V=H(A());return M(V,W)?(W.data=V.data,W.isLoading=V.isLoading,W.isValidating=V.isValidating,W.error=V.error,W):(W=V,V)},()=>q]},[s,x]),P=Rm.useSyncExternalStore(m.useCallback(Y=>B(x,(H,ne)=>{M(ne,H)||Y()}),[s,x]),j[0],j[1]),O=!w.current,$=h[x]&&h[x].length>0,G=P.data,te=K(G)?U:G,ue=P.error,fe=m.useRef(te),Me=d?K(G)?fe.current:G:te,Nt=$&&!K(ue)?!1:O&&!K(a)?a:R().isPaused()?!1:i?K(te)?!1:l:K(te)||l,mt=!!(x&&e&&O&&Nt),Ot=K(P.isValidating)?mt:P.isValidating,Lt=K(P.isLoading)?mt:P.isLoading,ve=m.useCallback(async Y=>{const H=E.current;if(!x||!H||S.current||R().isPaused())return!1;let ne,N,z=!0;const q=Y||{},W=!g[x]||!q.dedupe,V=()=>Ao?!S.current&&x===C.current&&w.current:x===C.current,se={isValidating:!1,isLoading:!1},Pe=()=>{_(se)},ge=()=>{const ie=g[x];ie&&ie[1]===N&&delete g[x]},de={isValidating:!0};K(A().data)&&(de.isLoading=!0);try{if(W&&(_(de),n.loadingTimeout&&K(A().data)&&setTimeout(()=>{z&&V()&&R().onLoadingSlow(x,n)},n.loadingTimeout),g[x]=[H(v),Fr()]),[ne,N]=g[x],ne=await ne,W&&setTimeout(ge,n.dedupingInterval),!g[x]||g[x][1]!==N)return W&&V()&&R().onDiscarded(x),!1;se.error=we;const ie=p[x];if(!K(ie)&&(N<=ie[0]||N<=ie[1]||ie[1]===0))return Pe(),W&&V()&&R().onDiscarded(x),!1;const ye=A().data;se.data=r(ye,ne)?ye:ne,W&&V()&&R().onSuccess(ne,x,n)}catch(ie){ge();const ye=R(),{shouldRetryOnError:Ve}=ye;ye.isPaused()||(se.error=ie,W&&V()&&(ye.onError(ie,x,ye),(Ve===!0||Fe(Ve)&&Ve(ie))&&(!R().revalidateOnFocus||!R().revalidateOnReconnect||L())&&ye.onErrorRetry(ie,x,ye,Jn=>{const gt=h[x];gt&&gt[0]&&gt[0](en.ERROR_REVALIDATE_EVENT,Jn)},{retryCount:(q.retryCount||0)+1,dedupe:!0})))}return z=!1,Pe(),!0},[x,s]),Ge=m.useCallback((...Y)=>_c(s,C.current,...Y),[]);if(ir(()=>{E.current=e,T.current=n,K(G)||(fe.current=G)}),ir(()=>{if(!x)return;const Y=ve.bind(we,ar);let H=0;const N=eg(x,h,(z,q={})=>{if(z==en.FOCUS_EVENT){const W=Date.now();R().revalidateOnFocus&&W>H&&L()&&(H=W+R().focusThrottleInterval,Y())}else if(z==en.RECONNECT_EVENT)R().revalidateOnReconnect&&L()&&Y();else{if(z==en.MUTATE_EVENT)return ve();if(z==en.ERROR_REVALIDATE_EVENT)return ve(q)}});return S.current=!1,C.current=x,w.current=!0,_({_k:v}),Nt&&(K(te)||Mn?Y():_m(Y)),()=>{S.current=!0,N()}},[x]),ir(()=>{let Y;function H(){const N=Fe(c)?c(A().data):c;N&&Y!==-1&&(Y=setTimeout(ne,N))}function ne(){!A().error&&(u||R().isVisible())&&(f||R().isOnline())?ve(ar).then(H):H()}return H(),()=>{Y&&(clearTimeout(Y),Y=-1)}},[c,u,f,x]),m.useDebugValue(Me),i&&K(te)&&x){if(!Ao&&Mn)throw new Error("Fallback data is required when using suspense in SSR.");E.current=e,T.current=n,S.current=!1;const Y=b[x];if(!K(Y)){const H=Ge(Y);Lo(H)}if(K(ue)){const H=ve(ar);K(Me)||(H.status="fulfilled",H.value=!0),Lo(H)}else throw ue}return{mutate:Ge,get data(){return k.data=!0,Me},get error(){return k.error=!0,ue},get isValidating(){return k.isValidating=!0,Ot},get isLoading(){return k.isLoading=!0,Lt}}},ns=Qm(tg);var ng=async(t,e,n,s,r,i,o,a,l,c,u,f,d,h,p,g,b)=>{var x;const v=o.current;n(e.messages,!1);const w=h?e.messages:e.messages.map(({role:C,content:E,experimental_attachments:T,name:R,data:L,annotations:A,toolInvocations:_,function_call:B,tool_calls:D,tool_call_id:k})=>({role:C,content:E,...T!==void 0&&{experimental_attachments:T},...R!==void 0&&{name:R},...L!==void 0&&{data:L},...A!==void 0&&{annotations:A},..._!==void 0&&{toolInvocations:_},tool_call_id:k,...B!==void 0&&{function_call:B},...D!==void 0&&{tool_calls:D}})),S=r.current;return await pm({api:t,body:(x=p==null?void 0:p({messages:e.messages,requestData:e.data,requestBody:e.body}))!=null?x:{messages:w,data:e.data,...i.current.body,...e.body,...e.functions!==void 0&&{functions:e.functions},...e.function_call!==void 0&&{function_call:e.function_call},...e.tools!==void 0&&{tools:e.tools},...e.tool_choice!==void 0&&{tool_choice:e.tool_choice}},streamProtocol:c,credentials:i.current.credentials,headers:{...i.current.headers,...e.headers},abortController:()=>a.current,restoreMessagesOnFailure(){b||n(v,!1)},onResponse:f,onUpdate(C,E){n([...e.messages,...C],!1),s([...S??[],...E??[]],!1)},onToolCall:d,onFinish:u,generateId:l,fetch:g})};function sg({api:t="/api/chat",id:e,initialMessages:n,initialInput:s="",sendExtraMessageFields:r,experimental_onFunctionCall:i,experimental_onToolCall:o,onToolCall:a,experimental_prepareRequestBody:l,experimental_maxAutomaticRoundtrips:c=0,maxAutomaticRoundtrips:u=c,maxToolRoundtrips:f=u,maxSteps:d=f!=null?f+1:1,streamMode:h,streamProtocol:p,onResponse:g,onFinish:b,onError:x,credentials:v,headers:w,body:S,generateId:C=Ac,fetch:E,keepLastMessageOnError:T=!1}={}){h&&(p??(p=h==="text"?"text":void 0));const R=m.useId(),L=e??R,A=typeof t=="string"?[t,L]:L,[_]=m.useState([]),{data:B,mutate:D}=ns([A,"messages"],null,{fallbackData:n??_}),k=m.useRef(B||[]);m.useEffect(()=>{k.current=B||[]},[B]);const{data:U,mutate:M}=ns([A,"streamData"],null),j=m.useRef(U);m.useEffect(()=>{j.current=U},[U]);const{data:P=!1,mutate:O}=ns([A,"loading"],null),{data:$=void 0,mutate:G}=ns([A,"error"],null),te=m.useRef(null),ue=m.useRef({credentials:v,headers:w,body:S});m.useEffect(()=>{ue.current={credentials:v,headers:w,body:S}},[v,w,S]);const fe=m.useCallback(async N=>{const z=k.current.length;try{O(!0),G(void 0);const V=new AbortController;te.current=V,await gm({getStreamedResponse:()=>ng(t,N,D,M,j,ue,k,te,C,p,b,g,a,r,l,E,T),experimental_onFunctionCall:i,experimental_onToolCall:o,updateChatRequest:se=>{N=se},getCurrentMessages:()=>k.current}),te.current=null}catch(V){if(V.name==="AbortError")return te.current=null,null;x&&V instanceof Error&&x(V),G(V)}finally{O(!1)}const q=k.current,W=q[q.length-1];q.length>z&&W!=null&&d>1&&Io(W)&&rg(q)<d&&await fe({messages:q})},[D,O,t,ue,g,b,x,G,M,j,p,r,i,o,l,a,d,k,te,C,E,T]),Me=m.useCallback(async(N,{options:z,functions:q,function_call:W,tools:V,tool_choice:se,data:Pe,headers:ge,body:de,experimental_attachments:ie}={})=>{var ye,Ve;N.id||(N.id=C());const Jn=await Do(ie),gt={headers:ge??(z==null?void 0:z.headers),body:de??(z==null?void 0:z.body)},Ef={messages:k.current.concat({...N,id:(ye=N.id)!=null?ye:C(),createdAt:(Ve=N.createdAt)!=null?Ve:new Date,experimental_attachments:Jn.length>0?Jn:void 0}),options:gt,headers:gt.headers,body:gt.body,data:Pe,...q!==void 0&&{functions:q},...W!==void 0&&{function_call:W},...V!==void 0&&{tools:V},...se!==void 0&&{tool_choice:se}};return fe(Ef)},[fe,C]),Nt=m.useCallback(async({options:N,functions:z,function_call:q,tools:W,tool_choice:V,data:se,headers:Pe,body:ge}={})=>{if(k.current.length===0)return null;const de={headers:Pe??(N==null?void 0:N.headers),body:ge??(N==null?void 0:N.body)};if(k.current[k.current.length-1].role==="assistant"){const Ve={messages:k.current.slice(0,-1),options:de,headers:de.headers,body:de.body,data:se,...z!==void 0&&{functions:z},...q!==void 0&&{function_call:q},...W!==void 0&&{tools:W},...V!==void 0&&{tool_choice:V}};return fe(Ve)}const ye={messages:k.current,options:de,headers:de.headers,body:de.body,data:se,...z!==void 0&&{functions:z},...q!==void 0&&{function_call:q},...W!==void 0&&{tools:W},...V!==void 0&&{tool_choice:V}};return fe(ye)},[fe]),mt=m.useCallback(()=>{te.current&&(te.current.abort(),te.current=null)},[]),Ot=m.useCallback(N=>{typeof N=="function"&&(N=N(k.current)),D(N,!1),k.current=N},[D]),Lt=m.useCallback(N=>{typeof N=="function"&&(N=N(j.current)),M(N,!1),j.current=N},[M]),[ve,Ge]=m.useState(s),Y=m.useCallback(async(N,z={},q)=>{var W,V,se,Pe,ge;if((W=N==null?void 0:N.preventDefault)==null||W.call(N),!ve&&!z.allowEmptySubmit)return;q&&(ue.current={...ue.current,...q});const de=await Do(z.experimental_attachments),ie={headers:(se=z.headers)!=null?se:(V=z.options)==null?void 0:V.headers,body:(ge=z.body)!=null?ge:(Pe=z.options)==null?void 0:Pe.body},Ve={messages:!ve&&!de.length&&z.allowEmptySubmit?k.current:k.current.concat({id:C(),createdAt:new Date,role:"user",content:ve,experimental_attachments:de.length>0?de:void 0}),options:ie,headers:ie.headers,body:ie.body,data:z.data};fe(Ve),Ge("")},[ve,C,fe]),H=N=>{Ge(N.target.value)},ne=({toolCallId:N,result:z})=>{const q=k.current.map((V,se,Pe)=>se===Pe.length-1&&V.role==="assistant"&&V.toolInvocations?{...V,toolInvocations:V.toolInvocations.map(ge=>ge.toolCallId===N?{...ge,result:z}:ge)}:V);D(q,!1);const W=q[q.length-1];Io(W)&&fe({messages:q})};return{messages:B||[],setMessages:Ot,data:U,setData:Lt,error:$,append:Me,reload:Nt,stop:mt,input:ve,setInput:Ge,handleInputChange:H,handleSubmit:Y,isLoading:P,addToolResult:ne,experimental_addToolResult:ne}}function Io(t){return t.role==="assistant"&&t.toolInvocations&&t.toolInvocations.length>0&&t.toolInvocations.every(e=>"result"in e)}function rg(t){let e=0;for(let n=t.length-1;n>=0&&t[n].role==="assistant";n--)e++;return e}async function Do(t){if(t==null)return[];if(t instanceof FileList)return Promise.all(Array.from(t).map(async e=>{const{name:n,type:s}=e,r=await new Promise((i,o)=>{const a=new FileReader;a.onload=l=>{var c;i((c=l.target)==null?void 0:c.result)},a.onerror=l=>o(l),a.readAsDataURL(e)});return{name:n,contentType:s,url:r}}));if(Array.isArray(t))return t;throw new Error("Invalid attachments type")}var ig=sg,le=[];for(var lr=0;lr<256;++lr)le.push((lr+256).toString(16).slice(1));function og(t,e=0){return(le[t[e+0]]+le[t[e+1]]+le[t[e+2]]+le[t[e+3]]+"-"+le[t[e+4]]+le[t[e+5]]+"-"+le[t[e+6]]+le[t[e+7]]+"-"+le[t[e+8]]+le[t[e+9]]+"-"+le[t[e+10]]+le[t[e+11]]+le[t[e+12]]+le[t[e+13]]+le[t[e+14]]+le[t[e+15]]).toLowerCase()}var ss,ag=new Uint8Array(16);function lg(){if(!ss&&(ss=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ss))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ss(ag)}var cg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const jo={randomUUID:cg};function _o(t,e,n){if(jo.randomUUID&&!e&&!t)return jo.randomUUID();t=t||{};var s=t.random||(t.rng||lg)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,og(s)}function Ei(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let At=Ei();function Fc(t){At=t}const $c=/[&<>"']/,ug=new RegExp($c.source,"g"),Bc=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,fg=new RegExp(Bc.source,"g"),dg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mo=t=>dg[t];function Se(t,e){if(e){if($c.test(t))return t.replace(ug,Mo)}else if(Bc.test(t))return t.replace(fg,Mo);return t}const hg=/(^|[^\[])\^/g;function Q(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const s={replace:(r,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(hg,"$1"),n=n.replace(r,o),s},getRegex:()=>new RegExp(n,e)};return s}function Vo(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const dn={exec:()=>null};function Fo(t,e){const n=t.replace(/\|/g,(i,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),s=n.split(/ \|/);let r=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;r<s.length;r++)s[r]=s[r].trim().replace(/\\\|/g,"|");return s}function tn(t,e,n){const s=t.length;if(s===0)return"";let r=0;for(;r<s;){const i=t.charAt(s-r-1);if(i===e&&!n)r++;else if(i!==e&&n)r++;else break}return t.slice(0,s-r)}function pg(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])n++;else if(t[s]===e[1]&&(n--,n<0))return s;return-1}function $o(t,e,n,s){const r=e.href,i=e.title?Se(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){s.state.inLink=!0;const a={type:"link",raw:n,href:r,title:i,text:o,tokens:s.inlineTokens(o)};return s.state.inLink=!1,a}return{type:"image",raw:n,href:r,title:i,text:Se(o)}}function mg(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const s=n[1];return e.split(`
`).map(r=>{const i=r.match(/^\s+/);if(i===null)return r;const[o]=i;return o.length>=s.length?r.slice(s.length):r}).join(`
`)}class ws{constructor(e){X(this,"options");X(this,"rules");X(this,"lexer");this.options=e||At}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const s=n[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:tn(s,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const s=n[0],r=mg(s,n[3]||"");return{type:"code",raw:s,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:r}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let s=n[2].trim();if(/#$/.test(s)){const r=tn(s,"#");(this.options.pedantic||!r||/ $/.test(r))&&(s=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:tn(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let s=tn(n[0],`
`).split(`
`),r="",i="";const o=[];for(;s.length>0;){let a=!1;const l=[];let c;for(c=0;c<s.length;c++)if(/^ {0,3}>/.test(s[c]))l.push(s[c]),a=!0;else if(!a)l.push(s[c]);else break;s=s.slice(c);const u=l.join(`
`),f=u.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");r=r?`${r}
${u}`:u,i=i?`${i}
${f}`:f;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,o,!0),this.lexer.state.top=d,s.length===0)break;const h=o[o.length-1];if((h==null?void 0:h.type)==="code")break;if((h==null?void 0:h.type)==="blockquote"){const p=h,g=p.raw+`
`+s.join(`
`),b=this.blockquote(g);o[o.length-1]=b,r=r.substring(0,r.length-p.raw.length)+b.raw,i=i.substring(0,i.length-p.text.length)+b.text;break}else if((h==null?void 0:h.type)==="list"){const p=h,g=p.raw+`
`+s.join(`
`),b=this.list(g);o[o.length-1]=b,r=r.substring(0,r.length-h.raw.length)+b.raw,i=i.substring(0,i.length-p.raw.length)+b.raw,s=g.substring(o[o.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(e){let n=this.rules.block.list.exec(e);if(n){let s=n[1].trim();const r=s.length>1,i={type:"list",raw:"",ordered:r,start:r?+s.slice(0,-1):"",loose:!1,items:[]};s=r?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=r?s:"[*+-]");const o=new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a=!1;for(;e;){let l=!1,c="",u="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;c=n[0],e=e.substring(c.length);let f=n[2].split(`
`,1)[0].replace(/^\t+/,x=>" ".repeat(3*x.length)),d=e.split(`
`,1)[0],h=!f.trim(),p=0;if(this.options.pedantic?(p=2,u=f.trimStart()):h?p=n[1].length+1:(p=n[2].search(/[^ ]/),p=p>4?1:p,u=f.slice(p),p+=n[1].length),h&&/^[ \t]*$/.test(d)&&(c+=d+`
`,e=e.substring(d.length+1),l=!0),!l){const x=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),w=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),S=new RegExp(`^ {0,${Math.min(3,p-1)}}#`),C=new RegExp(`^ {0,${Math.min(3,p-1)}}<[a-z].*>`,"i");for(;e;){const E=e.split(`
`,1)[0];let T;if(d=E,this.options.pedantic?(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),T=d):T=d.replace(/\t/g,"    "),w.test(d)||S.test(d)||C.test(d)||x.test(d)||v.test(d))break;if(T.search(/[^ ]/)>=p||!d.trim())u+=`
`+T.slice(p);else{if(h||f.replace(/\t/g,"    ").search(/[^ ]/)>=4||w.test(f)||S.test(f)||v.test(f))break;u+=`
`+d}!h&&!d.trim()&&(h=!0),c+=E+`
`,e=e.substring(E.length+1),f=T.slice(p)}}i.loose||(a?i.loose=!0:/\n[ \t]*\n[ \t]*$/.test(c)&&(a=!0));let g=null,b;this.options.gfm&&(g=/^\[[ xX]\] /.exec(u),g&&(b=g[0]!=="[ ] ",u=u.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:c,task:!!g,checked:b,loose:!1,text:u,tokens:[]}),i.raw+=c}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){const c=i.items[l].tokens.filter(f=>f.type==="space"),u=c.length>0&&c.some(f=>/\n.*\n/.test(f.raw));i.loose=u}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const s=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:s,raw:n[0],href:r,title:i}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const s=Fo(n[1]),r=n[2].replace(/^\||\| *$/g,"").split("|"),i=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(s.length===r.length){for(const a of r)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<s.length;a++)o.header.push({text:s[a],tokens:this.lexer.inline(s[a]),header:!0,align:o.align[a]});for(const a of i)o.rows.push(Fo(a,o.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[c]})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const s=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Se(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const s=n[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const o=tn(s.slice(0,-1),"\\");if((s.length-o.length)%2===0)return}else{const o=pg(n[2],"()");if(o>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let r=n[2],i="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],i=o[3])}else i=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(s)?r=r.slice(1):r=r.slice(1,-1)),$o(n,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const r=(s[2]||s[1]).replace(/\s+/g," "),i=n[r.toLowerCase()];if(!i){const o=s[0].charAt(0);return{type:"text",raw:o,text:o}}return $o(s,i,s[0],this.lexer)}}emStrong(e,n,s=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&s.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const o=[...r[0]].length-1;let a,l,c=o,u=0;const f=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,n=n.slice(-1*e.length+o);(r=f.exec(n))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=[...a].length,r[3]||r[4]){c+=l;continue}else if((r[5]||r[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);const d=[...r[0]][0].length,h=e.slice(0,o+r.index+d+l);if(Math.min(o,l)%2){const g=h.slice(1,-1);return{type:"em",raw:h,text:g,tokens:this.lexer.inlineTokens(g)}}const p=h.slice(2,-2);return{type:"strong",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let s=n[2].replace(/\n/g," ");const r=/[^ ]/.test(s),i=/^ /.test(s)&&/ $/.test(s);return r&&i&&(s=s.substring(1,s.length-1)),s=Se(s,!0),{type:"codespan",raw:n[0],text:s}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let s,r;return n[2]==="@"?(s=Se(n[1]),r="mailto:"+s):(s=Se(n[1]),r=s),{type:"link",raw:n[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=Se(n[0]),i="mailto:"+r;else{let o;do o=n[0],n[0]=((s=this.rules.inline._backpedal.exec(n[0]))==null?void 0:s[0])??"";while(o!==n[0]);r=Se(n[0]),n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let s;return this.lexer.state.inRawBlock?s=n[0]:s=Se(n[0]),{type:"text",raw:n[0],text:s}}}}const gg=/^(?:[ \t]*(?:\n|$))+/,yg=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,xg=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Hn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,vg=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Uc=/(?:[*+-]|\d{1,9}[.)])/,zc=Q(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Uc).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Ri=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,bg=/^[^\n]+/,Pi=/(?!\s*\])(?:\\.|[^\[\]\\])+/,wg=Q(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Pi).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Sg=Q(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Uc).getRegex(),Ws="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ki=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Cg=Q("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ki).replace("tag",Ws).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Wc=Q(Ri).replace("hr",Hn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ws).getRegex(),Tg=Q(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Wc).getRegex(),Ai={blockquote:Tg,code:yg,def:wg,fences:xg,heading:vg,hr:Hn,html:Cg,lheading:zc,list:Sg,newline:gg,paragraph:Wc,table:dn,text:bg},Bo=Q("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Hn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ws).getRegex(),Eg={...Ai,table:Bo,paragraph:Q(Ri).replace("hr",Hn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Bo).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ws).getRegex()},Rg={...Ai,html:Q(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ki).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:dn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Q(Ri).replace("hr",Hn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",zc).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Hc=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Pg=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Kc=/^( {2,}|\\)\n(?!\s*$)/,kg=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Kn="\\p{P}\\p{S}",Ag=Q(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Kn).getRegex(),Ng=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Og=Q(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Kn).getRegex(),Lg=Q("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Kn).getRegex(),Ig=Q("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Kn).getRegex(),Dg=Q(/\\([punct])/,"gu").replace(/punct/g,Kn).getRegex(),jg=Q(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_g=Q(ki).replace("(?:-->|$)","-->").getRegex(),Mg=Q("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_g).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ss=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Vg=Q(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ss).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Gc=Q(/^!?\[(label)\]\[(ref)\]/).replace("label",Ss).replace("ref",Pi).getRegex(),Yc=Q(/^!?\[(ref)\](?:\[\])?/).replace("ref",Pi).getRegex(),Fg=Q("reflink|nolink(?!\\()","g").replace("reflink",Gc).replace("nolink",Yc).getRegex(),Ni={_backpedal:dn,anyPunctuation:Dg,autolink:jg,blockSkip:Ng,br:Kc,code:Pg,del:dn,emStrongLDelim:Og,emStrongRDelimAst:Lg,emStrongRDelimUnd:Ig,escape:Hc,link:Vg,nolink:Yc,punctuation:Ag,reflink:Gc,reflinkSearch:Fg,tag:Mg,text:kg,url:dn},$g={...Ni,link:Q(/^!?\[(label)\]\((.*?)\)/).replace("label",Ss).getRegex(),reflink:Q(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ss).getRegex()},$r={...Ni,escape:Q(Hc).replace("])","~|])").getRegex(),url:Q(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Bg={...$r,br:Q(Kc).replace("{2,}","*").getRegex(),text:Q($r.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},rs={normal:Ai,gfm:Eg,pedantic:Rg},nn={normal:Ni,gfm:$r,breaks:Bg,pedantic:$g};class Oe{constructor(e){X(this,"tokens");X(this,"options");X(this,"state");X(this,"tokenizer");X(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||At,this.options.tokenizer=this.options.tokenizer||new ws,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:rs.normal,inline:nn.normal};this.options.pedantic?(n.block=rs.pedantic,n.inline=nn.pedantic):this.options.gfm&&(n.block=rs.gfm,this.options.breaks?n.inline=nn.breaks:n.inline=nn.gfm),this.tokenizer.rules=n}static get rules(){return{block:rs,inline:nn}}static lex(e,n){return new Oe(n).lex(e)}static lexInline(e,n){return new Oe(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const s=this.inlineQueue[n];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],s=!1){this.options.pedantic&&(e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""));let r,i,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=n[n.length-1],s&&(i==null?void 0:i.type)==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),s=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let s,r,i,o=e,a,l,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(s=u.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),r=n[n.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length),r=n[n.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(s=this.tokenizer.emStrong(e,o,c)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.autolink(e)){e=e.substring(s.raw.length),n.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e))){e=e.substring(s.raw.length),n.push(s);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const f=e.slice(1);let d;this.options.extensions.startInline.forEach(h=>{d=h.call({lexer:this},f),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(i=e.substring(0,u+1))}if(s=this.tokenizer.inlineText(i)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(c=s.raw.slice(-1)),l=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class Cs{constructor(e){X(this,"options");X(this,"parser");this.options=e||At}space(e){return""}code({text:e,lang:n,escaped:s}){var o;const r=(o=(n||"").match(/^\S*/))==null?void 0:o[0],i=e.replace(/\n$/,"")+`
`;return r?'<pre><code class="language-'+Se(r)+'">'+(s?i:Se(i,!0))+`</code></pre>
`:"<pre><code>"+(s?i:Se(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,s=e.start;let r="";for(let a=0;a<e.items.length;a++){const l=e.items[a];r+=this.listitem(l)}const i=n?"ol":"ul",o=n&&s!==1?' start="'+s+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(e){let n="";if(e.task){const s=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" "}):n+=s+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",s="";for(let i=0;i<e.header.length;i++)s+=this.tablecell(e.header[i]);n+=this.tablerow({text:s});let r="";for(let i=0;i<e.rows.length;i++){const o=e.rows[i];s="";for(let a=0;a<o.length;a++)s+=this.tablecell(o[a]);r+=this.tablerow({text:s})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+n+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:s}){const r=this.parser.parseInline(s),i=Vo(e);if(i===null)return r;e=i;let o='<a href="'+e+'"';return n&&(o+=' title="'+n+'"'),o+=">"+r+"</a>",o}image({href:e,title:n,text:s}){const r=Vo(e);if(r===null)return s;e=r;let i=`<img src="${e}" alt="${s}"`;return n&&(i+=` title="${n}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Oi{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Le{constructor(e){X(this,"options");X(this,"renderer");X(this,"textRenderer");this.options=e||At,this.options.renderer=this.options.renderer||new Cs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Oi}static parse(e,n){return new Le(n).parse(e)}static parseInline(e,n){return new Le(n).parseInline(e)}parse(e,n=!0){let s="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){s+=l||"";continue}}const o=i;switch(o.type){case"space":{s+=this.renderer.space(o);continue}case"hr":{s+=this.renderer.hr(o);continue}case"heading":{s+=this.renderer.heading(o);continue}case"code":{s+=this.renderer.code(o);continue}case"table":{s+=this.renderer.table(o);continue}case"blockquote":{s+=this.renderer.blockquote(o);continue}case"list":{s+=this.renderer.list(o);continue}case"html":{s+=this.renderer.html(o);continue}case"paragraph":{s+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;r+1<e.length&&e[r+1].type==="text";)a=e[++r],l+=`
`+this.renderer.text(a);n?s+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):s+=l;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return s}parseInline(e,n){n=n||this.renderer;let s="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){s+=a||"";continue}}const o=i;switch(o.type){case"escape":{s+=n.text(o);break}case"html":{s+=n.html(o);break}case"link":{s+=n.link(o);break}case"image":{s+=n.image(o);break}case"strong":{s+=n.strong(o);break}case"em":{s+=n.em(o);break}case"codespan":{s+=n.codespan(o);break}case"br":{s+=n.br(o);break}case"del":{s+=n.del(o);break}case"text":{s+=n.text(o);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return s}}class hn{constructor(e){X(this,"options");X(this,"block");this.options=e||At}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Oe.lex:Oe.lexInline}provideParser(){return this.block?Le.parse:Le.parseInline}}X(hn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Ug{constructor(...e){X(this,"defaults",Ei());X(this,"options",this.setOptions);X(this,"parse",this.parseMarkdown(!0));X(this,"parseInline",this.parseMarkdown(!1));X(this,"Parser",Le);X(this,"Renderer",Cs);X(this,"TextRenderer",Oi);X(this,"Lexer",Oe);X(this,"Tokenizer",ws);X(this,"Hooks",hn);this.use(...e)}walkTokens(e,n){var r,i;let s=[];for(const o of e)switch(s=s.concat(n.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)s=s.concat(this.walkTokens(l.tokens,n));for(const l of a.rows)for(const c of l)s=s.concat(this.walkTokens(c.tokens,n));break}case"list":{const a=o;s=s.concat(this.walkTokens(a.items,n));break}default:{const a=o;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const c=a[l].flat(1/0);s=s.concat(this.walkTokens(c,n))}):a.tokens&&(s=s.concat(this.walkTokens(a.tokens,n)))}}return s}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const r={...s};if(r.async=this.defaults.async||r.async||!1,s.extensions&&(s.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=n.renderers[i.name];o?n.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[i.level];o?o.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),r.extensions=n),s.renderer){const i=this.defaults.renderer||new Cs(this.defaults);for(const o in s.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const a=o,l=s.renderer[a],c=i[a];i[a]=(...u)=>{let f=l.apply(i,u);return f===!1&&(f=c.apply(i,u)),f||""}}r.renderer=i}if(s.tokenizer){const i=this.defaults.tokenizer||new ws(this.defaults);for(const o in s.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,l=s.tokenizer[a],c=i[a];i[a]=(...u)=>{let f=l.apply(i,u);return f===!1&&(f=c.apply(i,u)),f}}r.tokenizer=i}if(s.hooks){const i=this.defaults.hooks||new hn;for(const o in s.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const a=o,l=s.hooks[a],c=i[a];hn.passThroughHooks.has(o)?i[a]=u=>{if(this.defaults.async)return Promise.resolve(l.call(i,u)).then(d=>c.call(i,d));const f=l.call(i,u);return c.call(i,f)}:i[a]=(...u)=>{let f=l.apply(i,u);return f===!1&&(f=c.apply(i,u)),f}}r.hooks=i}if(s.walkTokens){const i=this.defaults.walkTokens,o=s.walkTokens;r.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Oe.lex(e,n??this.defaults)}parser(e,n){return Le.parse(e,n??this.defaults)}parseMarkdown(e){return(s,r)=>{const i={...r},o={...this.defaults,...i},a=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||s===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const l=o.hooks?o.hooks.provideLexer():e?Oe.lex:Oe.lexInline,c=o.hooks?o.hooks.provideParser():e?Le.parse:Le.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(s):s).then(u=>l(u,o)).then(u=>o.hooks?o.hooks.processAllTokens(u):u).then(u=>o.walkTokens?Promise.all(this.walkTokens(u,o.walkTokens)).then(()=>u):u).then(u=>c(u,o)).then(u=>o.hooks?o.hooks.postprocess(u):u).catch(a);try{o.hooks&&(s=o.hooks.preprocess(s));let u=l(s,o);o.hooks&&(u=o.hooks.processAllTokens(u)),o.walkTokens&&this.walkTokens(u,o.walkTokens);let f=c(u,o);return o.hooks&&(f=o.hooks.postprocess(f)),f}catch(u){return a(u)}}}onError(e,n){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+Se(s.message+"",!0)+"</pre>";return n?Promise.resolve(r):r}if(n)return Promise.reject(s);throw s}}}const Rt=new Ug;function J(t,e){return Rt.parse(t,e)}J.options=J.setOptions=function(t){return Rt.setOptions(t),J.defaults=Rt.defaults,Fc(J.defaults),J};J.getDefaults=Ei;J.defaults=At;J.use=function(...t){return Rt.use(...t),J.defaults=Rt.defaults,Fc(J.defaults),J};J.walkTokens=function(t,e){return Rt.walkTokens(t,e)};J.parseInline=Rt.parseInline;J.Parser=Le;J.parser=Le.parse;J.Renderer=Cs;J.TextRenderer=Oi;J.Lexer=Oe;J.lexer=Oe.lex;J.Tokenizer=ws;J.Hooks=hn;J.parse=J;J.options;J.setOptions;J.use;J.walkTokens;J.parseInline;Le.parse;Oe.lex;function zg(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}function Vn(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Br=t=>Array.isArray(t);function qc(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Fn(t){return typeof t=="string"||Array.isArray(t)}function Uo(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Li(t,e,n,s){if(typeof e=="function"){const[r,i]=Uo(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=Uo(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function Hs(t,e,n){const s=t.getProps();return Li(s,e,n!==void 0?n:s.custom,t)}const Ii=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Di=["initial",...Ii],Gn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ht=new Set(Gn),Je=t=>t*1e3,Xe=t=>t/1e3,Wg={type:"spring",stiffness:500,damping:25,restSpeed:10},Hg=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Kg={type:"keyframes",duration:.8},Gg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yg=(t,{keyframes:e})=>e.length>2?Kg:ht.has(t)?t.startsWith("scale")?Hg(e[1]):Wg:Gg;function ji(t,e){return t?t[e]||t.default||t:void 0}const qg={skipAnimations:!1,useManualTiming:!1},Jg=t=>t!==null;function Ks(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(Jg),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return!i||s===void 0?r[i]:s}const me=t=>t;function Xg(t){let e=new Set,n=new Set,s=!1,r=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,f=!1)=>{const h=f&&s?e:n;return u&&i.add(c),h.has(c)||h.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,s){r=!0;return}s=!0,[e,n]=[n,e],n.clear(),e.forEach(a),s=!1,r&&(r=!1,l.process(c))}};return l}const is=["read","resolveKeyframes","update","preRender","render","postRender"],Zg=40;function Jc(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=is.reduce((x,v)=>(x[v]=Xg(i),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:d}=o,h=()=>{const x=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(x-r.timestamp,Zg),1),r.timestamp=x,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),f.process(r),d.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(h))},p=()=>{n=!0,s=!0,r.isProcessing||t(h)};return{schedule:is.reduce((x,v)=>{const w=o[v];return x[v]=(S,C=!1,E=!1)=>(n||p(),w.schedule(S,C,E)),x},{}),cancel:x=>{for(let v=0;v<is.length;v++)o[is[v]].cancel(x)},state:r,steps:o}}const{schedule:Z,cancel:ut,state:ce,steps:cr}=Jc(typeof requestAnimationFrame<"u"?requestAnimationFrame:me,!0),Xc=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Qg=1e-7,ey=12;function ty(t,e,n,s,r){let i,o,a=0;do o=e+(n-e)/2,i=Xc(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>Qg&&++a<ey);return o}function Yn(t,e,n,s){if(t===e&&n===s)return me;const r=i=>ty(i,0,1,t,n);return i=>i===0||i===1?i:Xc(r(i),e,s)}const Zc=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Qc=t=>e=>1-t(1-e),eu=Yn(.33,1.53,.69,.99),_i=Qc(eu),tu=Zc(_i),nu=t=>(t*=2)<1?.5*_i(t):.5*(2-Math.pow(2,-10*(t-1))),Mi=t=>1-Math.sin(Math.acos(t)),su=Qc(Mi),ru=Zc(Mi),iu=t=>/^0[^.\s]+$/u.test(t);function ny(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iu(t):!0}let Ur=me;const ou=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),au=t=>e=>typeof e=="string"&&e.startsWith(t),lu=au("--"),sy=au("var(--"),Vi=t=>sy(t)?ry.test(t.split("/*")[0].trim()):!1,ry=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,iy=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oy(t){const e=iy.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function cu(t,e,n=1){const[s,r]=oy(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return ou(o)?parseFloat(o):o}return Vi(r)?cu(r,e,n+1):r}const ft=(t,e,n)=>n>e?e:n<t?t:n,Qt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$n={...Qt,transform:t=>ft(0,1,t)},os={...Qt,default:1},qn=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),st=qn("deg"),Ue=qn("%"),I=qn("px"),ay=qn("vh"),ly=qn("vw"),zo={...Ue,parse:t=>Ue.parse(t)/100,transform:t=>Ue.transform(t*100)},cy=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Wo=t=>t===Qt||t===I,Ho=(t,e)=>parseFloat(t.split(", ")[e]),Ko=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/u);if(r)return Ho(r[1],e);{const i=s.match(/^matrix\((.+)\)$/u);return i?Ho(i[1],t):0}},uy=new Set(["x","y","z"]),fy=Gn.filter(t=>!uy.has(t));function dy(t){const e=[];return fy.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Gt={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ko(4,13),y:Ko(5,14)};Gt.translateX=Gt.x;Gt.translateY=Gt.y;const uu=t=>e=>e.test(t),hy={test:t=>t==="auto",parse:t=>t},fu=[Qt,I,Ue,st,ly,ay,hy],Go=t=>fu.find(uu(t)),Ct=new Set;let zr=!1,Wr=!1;function du(){if(Wr){const t=Array.from(Ct).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=dy(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{var a;(a=s.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Wr=!1,zr=!1,Ct.forEach(t=>t.complete()),Ct.clear()}function hu(){Ct.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wr=!0)})}function py(){hu(),du()}class Fi{constructor(e,n,s,r,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ct.add(this),zr||(zr=!0,Z.read(hu),Z.resolveKeyframes(du))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const l=s.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ct.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ct.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pn=t=>Math.round(t*1e5)/1e5,$i=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function my(t){return t==null}const gy=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bi=(t,e)=>n=>!!(typeof n=="string"&&gy.test(n)&&n.startsWith(t)||e&&!my(n)&&Object.prototype.hasOwnProperty.call(n,e)),pu=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,a]=s.match($i);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yy=t=>ft(0,255,t),ur={...Qt,transform:t=>Math.round(yy(t))},wt={test:Bi("rgb","red"),parse:pu("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ur.transform(t)+", "+ur.transform(e)+", "+ur.transform(n)+", "+pn($n.transform(s))+")"};function xy(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Hr={test:Bi("#"),parse:xy,transform:wt.transform},Mt={test:Bi("hsl","hue"),parse:pu("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ue.transform(pn(e))+", "+Ue.transform(pn(n))+", "+pn($n.transform(s))+")"},he={test:t=>wt.test(t)||Hr.test(t)||Mt.test(t),parse:t=>wt.test(t)?wt.parse(t):Mt.test(t)?Mt.parse(t):Hr.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wt.transform(t):Mt.transform(t)},vy=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function by(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match($i))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(vy))===null||n===void 0?void 0:n.length)||0)>0}const mu="number",gu="color",wy="var",Sy="var(",Yo="${}",Cy=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bn(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const a=e.replace(Cy,l=>(he.test(l)?(s.color.push(i),r.push(gu),n.push(he.parse(l))):l.startsWith(Sy)?(s.var.push(i),r.push(wy),n.push(l)):(s.number.push(i),r.push(mu),n.push(parseFloat(l))),++i,Yo)).split(Yo);return{values:n,split:a,indexes:s,types:r}}function yu(t){return Bn(t).values}function xu(t){const{split:e,types:n}=Bn(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const a=n[o];a===mu?i+=pn(r[o]):a===gu?i+=he.transform(r[o]):i+=r[o]}return i}}const Ty=t=>typeof t=="number"?0:t;function Ey(t){const e=yu(t);return xu(t)(e.map(Ty))}const dt={test:by,parse:yu,createTransformer:xu,getAnimatableNone:Ey},Ry=new Set(["brightness","contrast","saturate","opacity"]);function Py(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match($i)||[];if(!s)return t;const r=n.replace(s,"");let i=Ry.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const ky=/\b([a-z-]*)\(.*?\)/gu,Kr={...dt,getAnimatableNone:t=>{const e=t.match(ky);return e?e.map(Py).join(" "):t}},Ay={borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,backgroundPositionX:I,backgroundPositionY:I},Ny={rotate:st,rotateX:st,rotateY:st,rotateZ:st,scale:os,scaleX:os,scaleY:os,scaleZ:os,skew:st,skewX:st,skewY:st,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:$n,originX:zo,originY:zo,originZ:I},qo={...Qt,transform:Math.round},Ui={...Ay,...Ny,zIndex:qo,size:I,fillOpacity:$n,strokeOpacity:$n,numOctaves:qo},Oy={...Ui,color:he,backgroundColor:he,outlineColor:he,fill:he,stroke:he,borderColor:he,borderTopColor:he,borderRightColor:he,borderBottomColor:he,borderLeftColor:he,filter:Kr,WebkitFilter:Kr},zi=t=>Oy[t];function vu(t,e){let n=zi(t);return n!==Kr&&(n=dt),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Ly=new Set(["auto","none","0"]);function Iy(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!Ly.has(i)&&Bn(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=vu(n,r)}class bu extends Fi{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Vi(c))){const u=cu(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!cy.has(s)||e.length!==2)return;const[r,i]=e,o=Go(r),a=Go(i);if(o!==a)if(Wo(o)&&Wo(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)ny(e[r])&&s.push(r);s.length&&Iy(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gt[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const i=n.getValue(s);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Gt[s](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Wi(t){return typeof t=="function"}let ds;function Dy(){ds=void 0}const ze={now:()=>(ds===void 0&&ze.set(ce.isProcessing||qg.useManualTiming?ce.timestamp:performance.now()),ds),set:t=>{ds=t,queueMicrotask(Dy)}},Jo=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dt.test(t)||t==="0")&&!t.startsWith("url("));function jy(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function _y(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Jo(r,e),a=Jo(i,e);return!o||!a?!1:jy(t)||(n==="spring"||Wi(n))&&s}const My=40;class wu{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ze.now(),this.options={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>My?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&py(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ze.now(),this.hasAttemptedResolve=!0;const{name:s,type:r,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!_y(e,s,r,i))if(o)this.options.duration=0;else{l==null||l(Ks(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function Su(t,e){return e?t*(1e3/e):0}const Vy=5;function Cu(t,e,n){const s=Math.max(e-Vy,0);return Su(n-t(s),e-s)}const fr=.001,Fy=.01,$y=10,By=.05,Uy=1;function zy({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,i,o=1-e;o=ft(By,Uy,o),t=ft(Fy,$y,Xe(t)),o<1?(r=c=>{const u=c*o,f=u*t,d=u-n,h=Gr(c,o),p=Math.exp(-f);return fr-d/h*p},i=c=>{const f=c*o*t,d=f*n+n,h=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-f),g=Gr(Math.pow(c,2),o);return(-r(c)+fr>0?-1:1)*((d-h)*p)/g}):(r=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-fr+u*f},i=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=Hy(r,i,a);if(t=Je(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:o*2*Math.sqrt(s*c),duration:t}}}const Wy=12;function Hy(t,e,n){let s=n;for(let r=1;r<Wy;r++)s=s-t(s)/e(s);return s}function Gr(t,e){return t*Math.sqrt(1-e*e)}const Ky=["duration","bounce"],Gy=["stiffness","damping","mass"];function Xo(t,e){return e.some(n=>t[n]!==void 0)}function Yy(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Xo(t,Gy)&&Xo(t,Ky)){const n=zy(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Tu({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],i=t[t.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:d}=Yy({...s,velocity:-Xe(s.velocity||0)}),h=f||0,p=l/(2*Math.sqrt(a*c)),g=i-r,b=Xe(Math.sqrt(a/c)),x=Math.abs(g)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let v;if(p<1){const w=Gr(b,p);v=S=>{const C=Math.exp(-p*b*S);return i-C*((h+p*b*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(p===1)v=w=>i-Math.exp(-b*w)*(g+(h+b*g)*w);else{const w=b*Math.sqrt(p*p-1);v=S=>{const C=Math.exp(-p*b*S),E=Math.min(w*S,300);return i-C*((h+p*b*g)*Math.sinh(E)+w*g*Math.cosh(E))/w}}return{calculatedDuration:d&&u||null,next:w=>{const S=v(w);if(d)o.done=w>=u;else{let C=0;p<1&&(C=w===0?Je(h):Cu(v,w,S));const E=Math.abs(C)<=n,T=Math.abs(i-S)<=e;o.done=E&&T}return o.value=o.done?i:S,o}}}function Zo({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],d={done:!1,value:f},h=R=>a!==void 0&&R<a||l!==void 0&&R>l,p=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let g=n*e;const b=f+g,x=o===void 0?b:o(b);x!==b&&(g=x-f);const v=R=>-g*Math.exp(-R/s),w=R=>x+v(R),S=R=>{const L=v(R),A=w(R);d.done=Math.abs(L)<=c,d.value=d.done?x:A};let C,E;const T=R=>{h(d.value)&&(C=R,E=Tu({keyframes:[d.value,p(d.value)],velocity:Cu(w,R,d.value),damping:r,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:R=>{let L=!1;return!E&&C===void 0&&(L=!0,S(R),T(R)),C!==void 0&&R>=C?E.next(R-C):(!L&&S(R),d)}}}const qy=Yn(.42,0,1,1),Jy=Yn(0,0,.58,1),Eu=Yn(.42,0,.58,1),Xy=t=>Array.isArray(t)&&typeof t[0]!="number",Hi=t=>Array.isArray(t)&&typeof t[0]=="number",Qo={linear:me,easeIn:qy,easeInOut:Eu,easeOut:Jy,circIn:Mi,circInOut:ru,circOut:su,backIn:_i,backInOut:tu,backOut:eu,anticipate:nu},ea=t=>{if(Hi(t)){Ur(t.length===4);const[e,n,s,r]=t;return Yn(e,n,s,r)}else if(typeof t=="string")return Ur(Qo[t]!==void 0),Qo[t];return t},Zy=(t,e)=>n=>e(t(n)),Ze=(...t)=>t.reduce(Zy),Yt=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},ee=(t,e,n)=>t+(e-t)*n;function dr(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Qy({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=dr(l,a,t+1/3),i=dr(l,a,t),o=dr(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Ts(t,e){return n=>n>0?e:t}const hr=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},ex=[Hr,wt,Mt],tx=t=>ex.find(e=>e.test(t));function ta(t){const e=tx(t);if(!e)return!1;let n=e.parse(t);return e===Mt&&(n=Qy(n)),n}const na=(t,e)=>{const n=ta(t),s=ta(e);if(!n||!s)return Ts(t,e);const r={...n};return i=>(r.red=hr(n.red,s.red,i),r.green=hr(n.green,s.green,i),r.blue=hr(n.blue,s.blue,i),r.alpha=ee(n.alpha,s.alpha,i),wt.transform(r))},Yr=new Set(["none","hidden"]);function nx(t,e){return Yr.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function sx(t,e){return n=>ee(t,e,n)}function Ki(t){return typeof t=="number"?sx:typeof t=="string"?Vi(t)?Ts:he.test(t)?na:ox:Array.isArray(t)?Ru:typeof t=="object"?he.test(t)?na:rx:Ts}function Ru(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>Ki(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function rx(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=Ki(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function ix(t,e){var n;const s=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;s[i]=l,r[o]++}return s}const ox=(t,e)=>{const n=dt.createTransformer(e),s=Bn(t),r=Bn(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Yr.has(t)&&!r.values.length||Yr.has(e)&&!s.values.length?nx(t,e):Ze(Ru(ix(s,r),r.values),n):Ts(t,e)};function Pu(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ee(t,e,n):Ki(t)(t,e)}function ax(t,e,n){const s=[],r=n||Pu,i=t.length-1;for(let o=0;o<i;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||me:e;a=Ze(l,a)}s.push(a)}return s}function lx(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(Ur(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=ax(e,s,r),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=Yt(t[u],t[u+1],c);return o[u](f)};return n?c=>l(ft(t[0],t[i-1],c)):l}function cx(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Yt(0,e,s);t.push(ee(n,1,r))}}function ux(t){const e=[0];return cx(e,t.length-1),e}function fx(t,e){return t.map(n=>n*e)}function dx(t,e){return t.map(()=>e||Eu).splice(0,t.length-1)}function Es({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=Xy(s)?s.map(ea):ea(s),i={done:!1,value:e[0]},o=fx(n&&n.length===e.length?n:ux(e),t),a=lx(o,e,{ease:Array.isArray(r)?r:dx(e,r)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const sa=2e4;function hx(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<sa;)e+=n,s=t.next(e);return e>=sa?1/0:e}const px=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Z.update(e,!0),stop:()=>ut(e),now:()=>ce.isProcessing?ce.timestamp:ze.now()}},mx={decay:Zo,inertia:Zo,tween:Es,keyframes:Es,spring:Tu},gx=t=>t/100;class Gi extends wu{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:s,element:r,keyframes:i}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Fi,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,s,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,a=Wi(n)?n:mx[n]||Es;let l,c;a!==Es&&typeof e[0]!="number"&&(l=Ze(gx,Pu(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=hx(u));const{calculatedDuration:f}=u,d=f+r,h=d*(s+1)-r;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=s;if(this.startTime===null)return i.next(0);const{delay:d,repeat:h,repeatType:p,repeatDelay:g,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,S=i;if(h){const R=Math.min(this.currentTime,u)/f;let L=Math.floor(R),A=R%1;!A&&R>=1&&(A=1),A===1&&L--,L=Math.min(L,h+1),!!(L%2)&&(p==="reverse"?(A=1-A,g&&(A-=g/f)):p==="mirror"&&(S=o)),w=ft(0,1,A)*f}const C=v?{done:!1,value:l[0]}:S.next(w);a&&(C.value=a(C.value));let{done:E}=C;!v&&c!==null&&(E=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return T&&r!==void 0&&(C.value=Ks(l,this.options,r)),b&&b(C.value),T&&this.finish(),C}get duration(){const{resolved:e}=this;return e?Xe(e.calculatedDuration):0}get time(){return Xe(this.currentTime)}set time(e){e=Je(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xe(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=px,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ku=new Set(["opacity","clipPath","filter","transform"]),yx=10,xx=(t,e)=>{let n="";const s=Math.max(Math.round(e/yx),2);for(let r=0;r<s;r++)n+=t(Yt(0,s-1,r))+", ";return`linear(${n.substring(0,n.length-2)})`};function Yi(t){let e;return()=>(e===void 0&&(e=t()),e)}const vx={linearEasing:void 0};function bx(t,e){const n=Yi(t);return()=>{var s;return(s=vx[e])!==null&&s!==void 0?s:n()}}const Rs=bx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Au(t){return!!(typeof t=="function"&&Rs()||!t||typeof t=="string"&&(t in qr||Rs())||Hi(t)||Array.isArray(t)&&t.every(Au))}const un=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,qr={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:un([0,.65,.55,1]),circOut:un([.55,0,1,.45]),backIn:un([.31,.01,.66,-.59]),backOut:un([.33,1.53,.69,.99])};function Nu(t,e){if(t)return typeof t=="function"&&Rs()?xx(t,e):Hi(t)?un(t):Array.isArray(t)?t.map(n=>Nu(n,e)||qr.easeOut):qr[t]}function wx(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Nu(a,r);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:s,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function ra(t,e){t.timeline=e,t.onfinish=null}const Sx=Yi(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ps=10,Cx=2e4;function Tx(t){return Wi(t.type)||t.type==="spring"||!Au(t.ease)}function Ex(t,e){const n=new Gi({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const r=[];let i=0;for(;!s.done&&i<Cx;)s=n.sample(i),r.push(s.value),i+=Ps;return{times:void 0,keyframes:r,duration:i-Ps,ease:"linear"}}const Ou={anticipate:nu,backInOut:tu,circInOut:ru};function Rx(t){return t in Ou}class ia extends wu{constructor(e){super(e);const{name:n,motionValue:s,element:r,keyframes:i}=this.options;this.resolver=new bu(i,(o,a)=>this.onKeyframesResolved(o,a),n,s,r),this.resolver.scheduleResolve()}initPlayback(e,n){var s;let{duration:r=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((s=l.owner)===null||s===void 0)&&s.current))return!1;if(typeof o=="string"&&Rs()&&Rx(o)&&(o=Ou[o]),Tx(this.options)){const{onComplete:d,onUpdate:h,motionValue:p,element:g,...b}=this.options,x=Ex(e,b);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,o=x.ease,a="keyframes"}const f=wx(l.owner.current,c,e,{...this.options,duration:r,times:i,ease:o});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(ra(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:d}=this.options;l.set(Ks(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Xe(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Xe(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Je(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return me;const{animation:s}=n;ra(s,e)}return me}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:r,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:d,...h}=this.options,p=new Gi({...h,keyframes:s,duration:r,type:i,ease:o,times:a,isGenerator:!0}),g=Je(this.time);c.setWithVelocity(p.sample(g-Ps).value,p.sample(g).value,Ps)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:r,repeatType:i,damping:o,type:a}=e;return Sx()&&s&&ku.has(s)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}}const Px=Yi(()=>window.ScrollTimeline!==void 0);class kx{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(r=>Px()&&r.attachTimeline?r.attachTimeline(e):n(r));return()=>{s.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Ax({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const qi=(t,e,n,s={},r,i)=>o=>{const a=ji(s,t)||{},l=a.delay||s.delay||0;let{elapsed:c=0}=s;c=c-Je(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:r};Ax(a)||(u={...u,...Yg(t,u)}),u.duration&&(u.duration=Je(u.duration)),u.repeatDelay&&(u.repeatDelay=Je(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const d=Ks(u.keyframes,a);if(d!==void 0)return Z.update(()=>{u.onUpdate(d),u.onComplete()}),new kx([])}return!i&&ia.supports(u)?new ia(u):new Gi(u)},Nx=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Ox=t=>Br(t)?t[t.length-1]||0:t;function Ji(t,e){t.indexOf(e)===-1&&t.push(e)}function Xi(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zi{constructor(){this.subscriptions=[]}add(e){return Ji(this.subscriptions,e),()=>Xi(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oa=30,Lx=t=>!isNaN(parseFloat(t));class Ix{constructor(e,n={}){this.version="11.11.9",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const i=ze.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ze.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Lx(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zi);const s=this.events[e].add(n);return e==="change"?()=>{s(),Z.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ze.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>oa)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,oa);return Su(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Un(t,e){return new Ix(t,e)}function Dx(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Un(n))}function jx(t,e){const n=Hs(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const a=Ox(i[o]);Dx(t,o,a)}}const Gs=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_x="framerAppearId",Lu="data-"+Gs(_x);function Iu(t){return t.props[Lu]}const pe=t=>!!(t&&t.getVelocity);function Mx(t){return!!(pe(t)&&t.add)}function Jr(t,e){if(!t.applyWillChange)return;const n=t.getValue("willChange");if(Mx(n))return n.add(e)}function Vx({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Du(t,e,{delay:n=0,transitionOverride:s,type:r}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;s&&(o=s);const c=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const f in l){const d=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),h=l[f];if(h===void 0||u&&Vx(u,f))continue;const p={delay:n,...ji(o||{},f)};let g=!1;if(window.MotionHandoffAnimation){const x=Iu(t);if(x){const v=window.MotionHandoffAnimation(x,f,Z);v!==null&&(p.startTime=v,g=!0)}}Jr(t,f),d.start(qi(f,d,h,t.shouldReduceMotion&&ht.has(f)?{type:!1}:p,t,g));const b=d.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{Z.update(()=>{a&&jx(t,a)})}),c}function Xr(t,e,n={}){var s;const r=Hs(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(Du(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=i;return Fx(t,e,u+c,f,d,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function Fx(t,e,n=0,s=0,r=1,i){const o=[],a=(t.variantChildren.size-1)*s,l=r===1?(c=0)=>c*s:(c=0)=>a-c*s;return Array.from(t.variantChildren).sort($x).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Xr(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function $x(t,e){return t.sortNodePosition(e)}function Bx(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>Xr(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=Xr(t,e,n);else{const r=typeof e=="function"?Hs(t,e,n.custom):e;s=Promise.all(Du(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const Ux=Di.length;function ju(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ju(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Ux;n++){const s=Di[n],r=t.props[s];(Fn(r)||r===!1)&&(e[s]=r)}return e}const zx=[...Ii].reverse(),Wx=Ii.length;function Hx(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Bx(t,n,s)))}function Kx(t){let e=Hx(t),n=aa(),s=!0;const r=l=>(c,u)=>{var f;const d=Hs(t,u,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:p,...g}=d;c={...c,...g,...p}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=ju(t.parent)||{},f=[],d=new Set;let h={},p=1/0;for(let b=0;b<Wx;b++){const x=zx[b],v=n[x],w=c[x]!==void 0?c[x]:u[x],S=Fn(w),C=x===l?v.isActive:null;C===!1&&(p=b);let E=w===u[x]&&w!==c[x]&&S;if(E&&s&&t.manuallyAnimateOnMount&&(E=!1),v.protectedKeys={...h},!v.isActive&&C===null||!w&&!v.prevProp||Vn(w)||typeof w=="boolean")continue;const T=Gx(v.prevProp,w);let R=T||x===l&&v.isActive&&!E&&S||b>p&&S,L=!1;const A=Array.isArray(w)?w:[w];let _=A.reduce(r(x),{});C===!1&&(_={});const{prevResolvedValues:B={}}=v,D={...B,..._},k=j=>{R=!0,d.has(j)&&(L=!0,d.delete(j)),v.needsAnimating[j]=!0;const P=t.getValue(j);P&&(P.liveStyle=!1)};for(const j in D){const P=_[j],O=B[j];if(h.hasOwnProperty(j))continue;let $=!1;Br(P)&&Br(O)?$=!qc(P,O):$=P!==O,$?P!=null?k(j):d.add(j):P!==void 0&&d.has(j)?k(j):v.protectedKeys[j]=!0}v.prevProp=w,v.prevResolvedValues=_,v.isActive&&(h={...h,..._}),s&&t.blockInitialAnimation&&(R=!1),R&&(!(E&&T)||L)&&f.push(...A.map(j=>({animation:j,options:{type:x}})))}if(d.size){const b={};d.forEach(x=>{const v=t.getBaseTarget(x),w=t.getValue(x);w&&(w.liveStyle=!0),b[x]=v??null}),f.push({animation:b})}let g=!!f.length;return s&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),s=!1,g?e(f):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(d=>{var h;return(h=d.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=aa(),s=!0}}}function Gx(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qc(e,t):!1}function yt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aa(){return{animate:yt(!0),whileInView:yt(),whileHover:yt(),whileTap:yt(),whileDrag:yt(),whileFocus:yt(),exit:yt()}}class pt{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Yx extends pt{constructor(e){super(e),e.animationState||(e.animationState=Kx(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vn(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let qx=0;class Jx extends pt{constructor(){super(...arguments),this.id=qx++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Xx={animation:{Feature:Yx},exit:{Feature:Jx}},_u=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ys(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const Zx=t=>e=>_u(e)&&t(e,Ys(e));function qe(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Qe(t,e,n,s){return qe(t,e,Zx(n),s)}const la=(t,e)=>Math.abs(t-e);function Qx(t,e){const n=la(t.x,e.x),s=la(t.y,e.y);return Math.sqrt(n**2+s**2)}class Mu{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=mr(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=Qx(f.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=f,{timestamp:g}=ce;this.history.push({...p,timestamp:g});const{onStart:b,onMove:x}=this.handlers;d||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=pr(d,this.transformPagePoint),Z.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=mr(f.type==="pointercancel"?this.lastMoveEventInfo:pr(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,b),p&&p(f,b)},!_u(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Ys(e),a=pr(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ce;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,mr(a,this.history)),this.removeListeners=Ze(Qe(this.contextWindow,"pointermove",this.handlePointerMove),Qe(this.contextWindow,"pointerup",this.handlePointerUp),Qe(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ut(this.updatePoint)}}function pr(t,e){return e?{point:e(t.point)}:t}function ca(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mr({point:t},e){return{point:t,delta:ca(t,Vu(e)),offset:ca(t,e0(e)),velocity:t0(e,.1)}}function e0(t){return t[0]}function Vu(t){return t[t.length-1]}function t0(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=Vu(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Je(e)));)n--;if(!s)return{x:0,y:0};const i=Xe(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Fu(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const ua=Fu("dragHorizontal"),fa=Fu("dragVertical");function $u(t){let e=!1;if(t==="y")e=fa();else if(t==="x")e=ua();else{const n=ua(),s=fa();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function Bu(){const t=$u(!0);return t?(t(),!1):!0}function Vt(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const Uu=1e-4,n0=1-Uu,s0=1+Uu,zu=.01,r0=0-zu,i0=0+zu;function Ee(t){return t.max-t.min}function o0(t,e,n){return Math.abs(t-e)<=n}function da(t,e,n,s=.5){t.origin=s,t.originPoint=ee(e.min,e.max,t.origin),t.scale=Ee(n)/Ee(e),t.translate=ee(n.min,n.max,t.origin)-t.originPoint,(t.scale>=n0&&t.scale<=s0||isNaN(t.scale))&&(t.scale=1),(t.translate>=r0&&t.translate<=i0||isNaN(t.translate))&&(t.translate=0)}function mn(t,e,n,s){da(t.x,e.x,n.x,s?s.originX:void 0),da(t.y,e.y,n.y,s?s.originY:void 0)}function ha(t,e,n){t.min=n.min+e.min,t.max=t.min+Ee(e)}function a0(t,e,n){ha(t.x,e.x,n.x),ha(t.y,e.y,n.y)}function pa(t,e,n){t.min=e.min-n.min,t.max=t.min+Ee(e)}function gn(t,e,n){pa(t.x,e.x,n.x),pa(t.y,e.y,n.y)}function l0(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ee(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ee(n,t,s.max):Math.min(t,n)),t}function ma(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function c0(t,{top:e,left:n,bottom:s,right:r}){return{x:ma(t.x,n,r),y:ma(t.y,e,s)}}function ga(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function u0(t,e){return{x:ga(t.x,e.x),y:ga(t.y,e.y)}}function f0(t,e){let n=.5;const s=Ee(t),r=Ee(e);return r>s?n=Yt(e.min,e.max-s,t.min):s>r&&(n=Yt(t.min,t.max-r,e.min)),ft(0,1,n)}function d0(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zr=.35;function h0(t=Zr){return t===!1?t=0:t===!0&&(t=Zr),{x:ya(t,"left","right"),y:ya(t,"top","bottom")}}function ya(t,e,n){return{min:xa(t,e),max:xa(t,n)}}function xa(t,e){return typeof t=="number"?t:t[e]||0}const va=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ft=()=>({x:va(),y:va()}),ba=()=>({min:0,max:0}),re=()=>({x:ba(),y:ba()});function Ae(t){return[t("x"),t("y")]}function Wu({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function p0({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function m0(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function gr(t){return t===void 0||t===1}function Qr({scale:t,scaleX:e,scaleY:n}){return!gr(t)||!gr(e)||!gr(n)}function xt(t){return Qr(t)||Hu(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Hu(t){return wa(t.x)||wa(t.y)}function wa(t){return t&&t!=="0%"}function ks(t,e,n){const s=t-n,r=e*s;return n+r}function Sa(t,e,n,s,r){return r!==void 0&&(t=ks(t,r,s)),ks(t,n,s)+e}function ei(t,e=0,n=1,s,r){t.min=Sa(t.min,e,n,s,r),t.max=Sa(t.max,e,n,s,r)}function Ku(t,{x:e,y:n}){ei(t.x,e.translate,e.scale,e.originPoint),ei(t.y,n.translate,n.scale,n.originPoint)}const Ca=.999999999999,Ta=1.0000000000001;function g0(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let a=0;a<r;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Bt(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Ku(t,o)),s&&xt(i.latestValues)&&Bt(t,i.latestValues))}e.x<Ta&&e.x>Ca&&(e.x=1),e.y<Ta&&e.y>Ca&&(e.y=1)}function $t(t,e){t.min=t.min+e,t.max=t.max+e}function Ea(t,e,n,s,r=.5){const i=ee(t.min,t.max,r);ei(t,e,n,i,s)}function Bt(t,e){Ea(t.x,e.x,e.scaleX,e.scale,e.originX),Ea(t.y,e.y,e.scaleY,e.scale,e.originY)}function Gu(t,e){return Wu(m0(t.getBoundingClientRect(),e))}function y0(t,e,n){const s=Gu(t,n),{scroll:r}=e;return r&&($t(s.x,r.offset.x),$t(s.y,r.offset.y)),s}const Yu=({current:t})=>t?t.ownerDocument.defaultView:null,x0=new WeakMap;class v0{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=re(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ys(u,"page").point)},i=(u,f)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$u(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ae(b=>{let x=this.getAxisMotionValue(b).get()||0;if(Ue.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[b];w&&(x=Ee(w)*(parseFloat(x)/100))}}this.originPoint[b]=x}),p&&Z.postRender(()=>p(u,f)),Jr(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:g}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:b}=f;if(h&&this.currentDirection===null){this.currentDirection=b0(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),g&&g(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Ae(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Mu(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Yu(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Z.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!as(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=l0(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Vt(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=c0(r.layoutBox,n):this.constraints=!1,this.elastic=h0(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ae(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=d0(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Vt(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=y0(s,r.root,this.visualElement.getTransformPagePoint());let o=u0(r.layout.layoutBox,i);if(n){const a=n(p0(o));this.hasMutatedConstraints=!!a,a&&(o=Wu(a))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ae(u=>{if(!as(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const d=r?200:1e6,h=r?40:1e7,p={type:"inertia",velocity:s?e[u]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Jr(this.visualElement,e),s.start(qi(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ae(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ae(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ae(n=>{const{drag:s}=this.getProps();if(!as(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];i.set(e[n]-ee(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Vt(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ae(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=f0({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ae(o=>{if(!as(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ee(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;x0.set(this.visualElement,this);const e=this.visualElement.current,n=Qe(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();Vt(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Z.read(s);const o=qe(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ae(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Zr,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function as(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function b0(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class w0 extends pt{constructor(e){super(e),this.removeGroupControls=me,this.removeListeners=me,this.controls=new v0(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||me}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ra=t=>(e,n)=>{t&&Z.postRender(()=>t(e,n))};class S0 extends pt{constructor(){super(...arguments),this.removePointerDownListener=me}onPointerDown(e){this.session=new Mu(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Yu(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ra(e),onStart:Ra(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&Z.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=Qe(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qs=m.createContext(null);function C0(){const t=m.useContext(qs);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,r=m.useId();m.useEffect(()=>s(r),[]);const i=m.useCallback(()=>n&&n(r),[r,n]);return!e&&n?[!1,i]:[!0]}const Qi=m.createContext({}),qu=m.createContext({}),hs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pa(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sn={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(I.test(t))t=parseFloat(t);else return t;const n=Pa(t,e.target.x),s=Pa(t,e.target.y);return`${n}% ${s}%`}},T0={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=dt.parse(t);if(r.length>5)return s;const i=dt.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=ee(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),i(r)}},As={};function E0(t){Object.assign(As,t)}const{schedule:eo,cancel:sw}=Jc(queueMicrotask,!1);class R0 extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;E0(P0),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),hs.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Z.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eo.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ju(t){const[e,n]=C0(),s=m.useContext(Qi);return y.jsx(R0,{...t,layoutGroup:s,switchLayoutGroup:m.useContext(qu),isPresent:e,safeToRemove:n})}const P0={borderRadius:{...sn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sn,borderTopRightRadius:sn,borderBottomLeftRadius:sn,borderBottomRightRadius:sn,boxShadow:T0},Xu=["TopLeft","TopRight","BottomLeft","BottomRight"],k0=Xu.length,ka=t=>typeof t=="string"?parseFloat(t):t,Aa=t=>typeof t=="number"||I.test(t);function A0(t,e,n,s,r,i){r?(t.opacity=ee(0,n.opacity!==void 0?n.opacity:1,N0(s)),t.opacityExit=ee(e.opacity!==void 0?e.opacity:1,0,O0(s))):i&&(t.opacity=ee(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<k0;o++){const a=`border${Xu[o]}Radius`;let l=Na(e,a),c=Na(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Aa(l)===Aa(c)?(t[a]=Math.max(ee(ka(l),ka(c),s),0),(Ue.test(c)||Ue.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ee(e.rotate||0,n.rotate||0,s))}function Na(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const N0=Zu(0,.5,su),O0=Zu(.5,.95,me);function Zu(t,e,n){return s=>s<t?0:s>e?1:n(Yt(t,e,s))}function Oa(t,e){t.min=e.min,t.max=e.max}function ke(t,e){Oa(t.x,e.x),Oa(t.y,e.y)}function La(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ia(t,e,n,s,r){return t-=e,t=ks(t,1/n,s),r!==void 0&&(t=ks(t,1/r,s)),t}function L0(t,e=0,n=1,s=.5,r,i=t,o=t){if(Ue.test(e)&&(e=parseFloat(e),e=ee(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ee(i.min,i.max,s);t===i&&(a-=e),t.min=Ia(t.min,e,n,a,r),t.max=Ia(t.max,e,n,a,r)}function Da(t,e,[n,s,r],i,o){L0(t,e[n],e[s],e[r],e.scale,i,o)}const I0=["x","scaleX","originX"],D0=["y","scaleY","originY"];function ja(t,e,n,s){Da(t.x,e,I0,n?n.x:void 0,s?s.x:void 0),Da(t.y,e,D0,n?n.y:void 0,s?s.y:void 0)}function _a(t){return t.translate===0&&t.scale===1}function Qu(t){return _a(t.x)&&_a(t.y)}function Ma(t,e){return t.min===e.min&&t.max===e.max}function j0(t,e){return Ma(t.x,e.x)&&Ma(t.y,e.y)}function Va(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ef(t,e){return Va(t.x,e.x)&&Va(t.y,e.y)}function Fa(t){return Ee(t.x)/Ee(t.y)}function $a(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _0{constructor(){this.members=[]}add(e){Ji(this.members,e),e.scheduleRender()}remove(e){if(Xi(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function M0(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:d,skewX:h,skewY:p}=n;c&&(s=`perspective(${c}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),d&&(s+=`rotateY(${d}deg) `),h&&(s+=`skewX(${h}deg) `),p&&(s+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const V0=(t,e)=>t.depth-e.depth;class F0{constructor(){this.children=[],this.isDirty=!1}add(e){Ji(this.children,e),this.isDirty=!0}remove(e){Xi(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(V0),this.isDirty=!1,this.children.forEach(e)}}function ps(t){const e=pe(t)?t.get():t;return Nx(e)?e.toValue():e}function $0(t,e){const n=ze.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(ut(s),t(i-e))};return Z.read(s,!0),()=>ut(s)}function B0(t){return t instanceof SVGElement&&t.tagName!=="svg"}function U0(t,e,n){const s=pe(t)?t:Un(t);return s.start(qi("",s,e,n)),s.animation}const vt={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fn=typeof window<"u"&&window.MotionDebug!==void 0,yr=["","X","Y","Z"],z0={visibility:"hidden"},Ba=1e3;let W0=0;function xr(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function tf(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Iu(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Z,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&tf(s)}function nf({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=W0++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fn&&(vt.totalNodes=vt.resolvedTargetDeltas=vt.recalculatedProjection=0),this.nodes.forEach(G0),this.nodes.forEach(Z0),this.nodes.forEach(Q0),this.nodes.forEach(Y0),fn&&window.MotionDebug.record(vt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new F0)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zi),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=B0(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=$0(d,250),hs.hasAnimatedSinceResize&&(hs.hasAnimatedSinceResize=!1,this.nodes.forEach(za))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||rv,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!ef(this.targetLayout,p)||h,w=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...ji(g,"layout"),onPlay:b,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else d||za(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ut(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ev),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tf(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ua);return}this.isUpdating||this.nodes.forEach(J0),this.isUpdating=!1,this.nodes.forEach(X0),this.nodes.forEach(H0),this.nodes.forEach(K0),this.clearAllSnapshots();const a=ze.now();ce.delta=ft(0,1e3/60,a-ce.timestamp),ce.timestamp=a,ce.isProcessing=!0,cr.update.process(ce),cr.preRender.process(ce),cr.render.process(ce),ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eo.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q0),this.sharedNodes.forEach(tv)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Z.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Z.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Qu(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||xt(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),iv(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return re();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ov))){const{scroll:u}=this.root;u&&($t(l.x,u.offset.x),$t(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=re();if(ke(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:d}=u;u!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&ke(l,o),$t(l.x,f.offset.x),$t(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=re();ke(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Bt(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),xt(u.latestValues)&&Bt(l,u.latestValues)}return xt(this.latestValues)&&Bt(l,this.latestValues),l}removeTransform(o){const a=re();ke(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!xt(c.latestValues))continue;Qr(c.latestValues)&&c.updateSnapshot();const u=re(),f=c.measurePageBox();ke(u,f),ja(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return xt(this.latestValues)&&ja(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=ce.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),gn(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=re(),this.targetWithTransforms=re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a0(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ke(this.target,this.layout.layoutBox),Ku(this.target,this.targetDelta)):ke(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),gn(this.relativeTargetOrigin,this.target,h.target),ke(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fn&&vt.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qr(this.parent.latestValues)||Hu(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ce.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ke(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;g0(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=re());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(La(this.prevProjectionDelta.x,this.projectionDelta.x),La(this.prevProjectionDelta.y,this.projectionDelta.y)),mn(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!$a(this.projectionDelta.x,this.prevProjectionDelta.x)||!$a(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),fn&&vt.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ft(),this.projectionDelta=Ft(),this.projectionDeltaWithTransform=Ft()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Ft();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=re(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=h!==p,b=this.getStack(),x=!b||b.members.length<=1,v=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(sv));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;Wa(f.x,o.x,C),Wa(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gn(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nv(this.relativeTarget,this.relativeTargetOrigin,d,C),w&&j0(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=re()),ke(w,this.relativeTarget)),g&&(this.animationValues=u,A0(u,c,this.latestValues,C,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ut(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Z.update(()=>{hs.hasAnimatedSinceResize=!0,this.currentAnimation=U0(0,Ba,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ba),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&sf(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||re();const f=Ee(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=Ee(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}ke(a,l),Bt(a,u),mn(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _0),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&xr("z",o,c,this.animationValues);for(let u=0;u<yr.length;u++)xr(`rotate${yr[u]}`,o,c,this.animationValues),xr(`skew${yr[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return z0;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ps(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ps(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!xt(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=M0(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:h,y:p}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in As){if(d[g]===void 0)continue;const{correct:b,applyTo:x}=As[g],v=c.transform==="none"?d[g]:b(d[g],f);if(x){const w=x.length;for(let S=0;S<w;S++)c[x[S]]=v}else c[g]=v}return this.options.layoutId&&(c.pointerEvents=f===this?ps(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Ua),this.root.sharedNodes.clear()}}}function H0(t){t.updateLayout()}function K0(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Ae(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],h=Ee(d);d.min=s[f].min,d.max=d.min+h}):sf(i,n.layoutBox,s)&&Ae(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],h=Ee(s[f]);d.max=d.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const a=Ft();mn(a,s,n.layoutBox);const l=Ft();o?mn(l,t.applyTransform(r,!0),n.measuredBox):mn(l,s,n.layoutBox);const c=!Qu(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const p=re();gn(p,n.layoutBox,d.layoutBox);const g=re();gn(g,s,h.layoutBox),ef(p,g)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=p,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function G0(t){fn&&vt.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Y0(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q0(t){t.clearSnapshot()}function Ua(t){t.clearMeasurements()}function J0(t){t.isLayoutDirty=!1}function X0(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function za(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Z0(t){t.resolveTargetDelta()}function Q0(t){t.calcProjection()}function ev(t){t.resetSkewAndRotation()}function tv(t){t.removeLeadSnapshot()}function Wa(t,e,n){t.translate=ee(e.translate,0,n),t.scale=ee(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ha(t,e,n,s){t.min=ee(e.min,n.min,s),t.max=ee(e.max,n.max,s)}function nv(t,e,n,s){Ha(t.x,e.x,n.x,s),Ha(t.y,e.y,n.y,s)}function sv(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rv={duration:.45,ease:[.4,0,.1,1]},Ka=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ga=Ka("applewebkit/")&&!Ka("chrome/")?Math.round:me;function Ya(t){t.min=Ga(t.min),t.max=Ga(t.max)}function iv(t){Ya(t.x),Ya(t.y)}function sf(t,e,n){return t==="position"||t==="preserve-aspect"&&!o0(Fa(e),Fa(n),.2)}function ov(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const av=nf({attachResizeListener:(t,e)=>qe(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vr={current:void 0},rf=nf({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vr.current){const t=new av({});t.mount(window),t.setOptions({layoutScroll:!0}),vr.current=t}return vr.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lv={pan:{Feature:S0},drag:{Feature:w0,ProjectionNode:rf,MeasureLayout:Ju}};function qa(t,e){const n=e?"pointerenter":"pointerleave",s=e?"onHoverStart":"onHoverEnd",r=(i,o)=>{if(i.pointerType==="touch"||Bu())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[s];l&&Z.postRender(()=>l(i,o))};return Qe(t.current,n,r,{passive:!t.getProps()[s]})}class cv extends pt{mount(){this.unmount=Ze(qa(this.node,!0),qa(this.node,!1))}unmount(){}}class uv extends pt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ze(qe(this.node.current,"focus",()=>this.onFocus()),qe(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const of=(t,e)=>e?t===e?!0:of(t,e.parentElement):!1;function br(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ys(n))}class fv extends pt{constructor(){super(...arguments),this.removeStartListeners=me,this.removeEndListeners=me,this.removeAccessibleListeners=me,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=Qe(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps(),d=!f&&!of(this.node.current,a.target)?u:c;d&&Z.update(()=>d(a,l))},{passive:!(s.onTap||s.onPointerUp)}),o=Qe(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Ze(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||br("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Z.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=qe(this.node.current,"keyup",o),br("down",(a,l)=>{this.startPress(a,l)})},n=qe(this.node.current,"keydown",e),s=()=>{this.isPressing&&br("cancel",(i,o)=>this.cancelPress(i,o))},r=qe(this.node.current,"blur",s);this.removeAccessibleListeners=Ze(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Z.postRender(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Bu()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Z.postRender(()=>s(e,n))}mount(){const e=this.node.getProps(),n=Qe(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=qe(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ze(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ti=new WeakMap,wr=new WeakMap,dv=t=>{const e=ti.get(t.target);e&&e(t)},hv=t=>{t.forEach(dv)};function pv({root:t,...e}){const n=t||document;wr.has(n)||wr.set(n,{});const s=wr.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(hv,{root:t,...e})),s[r]}function mv(t,e,n){const s=pv(e);return ti.set(t,n),s.observe(t),()=>{ti.delete(t),s.unobserve(t)}}const gv={some:0,all:1};class yv extends pt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:gv[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return mv(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(xv(e,n))&&this.startObserver()}unmount(){}}function xv({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const vv={inView:{Feature:yv},tap:{Feature:fv},focus:{Feature:uv},hover:{Feature:cv}},bv={layout:{ProjectionNode:rf,MeasureLayout:Ju}},to=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Js=m.createContext({}),no=typeof window<"u",af=no?m.useLayoutEffect:m.useEffect,lf=m.createContext({strict:!1});function wv(t,e,n,s,r){var i,o;const{visualElement:a}=m.useContext(Js),l=m.useContext(lf),c=m.useContext(qs),u=m.useContext(to).reducedMotion,f=m.useRef();s=s||l.renderer,!f.current&&s&&(f.current=s(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const d=f.current,h=m.useContext(qu);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&Sv(f.current,n,r,h),m.useInsertionEffect(()=>{d&&d.update(n,c)});const p=n[Lu],g=m.useRef(!!p&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return af(()=>{d&&(window.MotionIsMounted=!0,d.updateFeatures(),eo.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,p)}),g.current=!1))}),d}function Sv(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cf(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||a&&Vt(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:l,layoutRoot:c})}function cf(t){if(t)return t.options.allowProjection!==!1?t.projection:cf(t.parent)}function Cv(t,e,n){return m.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Vt(n)&&(n.current=s))},[e])}function Xs(t){return Vn(t.animate)||Di.some(e=>Fn(t[e]))}function uf(t){return!!(Xs(t)||t.variants)}function Tv(t,e){if(Xs(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Fn(n)?n:void 0,animate:Fn(s)?s:void 0}}return t.inherit!==!1?e:{}}function Ev(t){const{initial:e,animate:n}=Tv(t,m.useContext(Js));return m.useMemo(()=>({initial:e,animate:n}),[Ja(e),Ja(n)])}function Ja(t){return Array.isArray(t)?t.join(" "):t}const Xa={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qt={};for(const t in Xa)qt[t]={isEnabled:e=>Xa[t].some(n=>!!e[n])};function Rv(t){for(const e in t)qt[e]={...qt[e],...t[e]}}const Pv=Symbol.for("motionComponentSymbol");function kv({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&Rv(t);function i(a,l){let c;const u={...m.useContext(to),...a,layoutId:Av(a)},{isStatic:f}=u,d=Ev(a),h=s(a,f);if(!f&&no){Nv();const p=Ov(u);c=p.MeasureLayout,d.visualElement=wv(r,h,u,e,p.ProjectionNode)}return y.jsxs(Js.Provider,{value:d,children:[c&&d.visualElement?y.jsx(c,{visualElement:d.visualElement,...u}):null,n(r,a,Cv(h,d.visualElement,l),h,f,d.visualElement)]})}const o=m.forwardRef(i);return o[Pv]=r,o}function Av({layoutId:t}){const e=m.useContext(Qi).id;return e&&t!==void 0?e+"-"+t:t}function Nv(t,e){m.useContext(lf).strict}function Ov(t){const{drag:e,layout:n}=qt;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Lv=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function so(t){return typeof t!="string"||t.includes("-")?!1:!!(Lv.indexOf(t)>-1||/[A-Z]/u.test(t))}function ff(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}const df=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hf(t,e,n,s){ff(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(df.has(r)?r:Gs(r),e.attrs[r])}function pf(t,{layout:e,layoutId:n}){return ht.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!As[t]||t==="opacity")}function ro(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(pe(r[o])||e.style&&pe(e.style[o])||pf(o,t)||((s=n==null?void 0:n.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return n&&r&&typeof r.willChange=="string"&&(n.applyWillChange=!1),i}function mf(t,e,n){const s=ro(t,e,n);for(const r in t)if(pe(t[r])||pe(e[r])){const i=Gn.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}function io(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function Iv(t){if(ht.has(t))return"transform";if(ku.has(t))return Gs(t)}function Dv({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:s},r,i,o,a){const l={latestValues:jv(r,i,o,a?!1:t,e),renderState:n()};return s&&(l.mount=c=>s(r,c,l)),l}const gf=t=>(e,n)=>{const s=m.useContext(Js),r=m.useContext(qs),i=()=>Dv(t,e,s,r,n);return n?i():io(i)};function Za(t,e,n){const s=Array.isArray(e)?e:[e];for(let r=0;r<s.length;r++){const i=Li(t,s[r]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function jv(t,e,n,s,r){var i;const o={},a=new Set,l=s&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=r(t,{});for(const b in c)o[b]=ps(c[b]);let{initial:u,animate:f}=t;const d=Xs(t),h=uf(t);e&&h&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let p=n?n.initial===!1:!1;p=p||u===!1;const g=p?f:u;return g&&typeof g!="boolean"&&!Vn(g)&&Za(t,g,(b,x)=>{for(const v in b){let w=b[v];if(Array.isArray(w)){const S=p?w.length-1:0;w=w[S]}w!==null&&(o[v]=w)}for(const v in x)o[v]=x[v]}),l&&(f&&u!==!1&&!Vn(f)&&Za(t,f,b=>{for(const x in b){const v=Iv(x);v&&a.add(v)}}),a.size&&(o.willChange=Array.from(a).join(","))),o}const oo=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),yf=()=>({...oo(),attrs:{}}),xf=(t,e)=>e&&typeof t=="number"?e.transform(t):t,_v={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Mv=Gn.length;function Vv(t,e,n){let s="",r=!0;for(let i=0;i<Mv;i++){const o=Gn[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=xf(a,Ui[o]);if(!l){r=!1;const u=_v[o]||o;s+=`${u}(${c}) `}n&&(e[o]=c)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function ao(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ht.has(l)){o=!0;continue}else if(lu(l)){r[l]=c;continue}else{const u=xf(c,Ui[l]);l.startsWith("origin")?(a=!0,i[l]=u):s[l]=u}}if(e.transform||(o||n?s.transform=Vv(e,t.transform,n):s.transform&&(s.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;s.transformOrigin=`${l} ${c} ${u}`}}function Qa(t,e,n){return typeof t=="string"?t:I.transform(e+n*t)}function Fv(t,e,n){const s=Qa(e,t.x,t.width),r=Qa(n,t.y,t.height);return`${s} ${r}`}const $v={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bv={offset:"strokeDashoffset",array:"strokeDasharray"};function Uv(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?$v:Bv;t[i.offset]=I.transform(-s);const o=I.transform(e),a=I.transform(n);t[i.array]=`${o} ${a}`}function lo(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f){if(ao(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h,dimensions:p}=t;d.transform&&(p&&(h.transform=d.transform),delete d.transform),p&&(r!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=Fv(p,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),s!==void 0&&(d.scale=s),o!==void 0&&Uv(d,o,a,l,!1)}const co=t=>typeof t=="string"&&t.toLowerCase()==="svg",zv={useVisualState:gf({scrapeMotionValuesFromProps:mf,createRenderState:yf,onMount:(t,e,{renderState:n,latestValues:s})=>{Z.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Z.render(()=>{lo(n,s,co(e.tagName),t.transformTemplate),hf(e,n)})}})},Wv={useVisualState:gf({applyWillChange:!0,scrapeMotionValuesFromProps:ro,createRenderState:oo})};function vf(t,e,n){for(const s in e)!pe(e[s])&&!pf(s,n)&&(t[s]=e[s])}function Hv({transformTemplate:t},e){return m.useMemo(()=>{const n=oo();return ao(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Kv(t,e){const n=t.style||{},s={};return vf(s,n,t),Object.assign(s,Hv(t,e)),s}function Gv(t,e){const n={},s=Kv(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Yv=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ns(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Yv.has(t)}let bf=t=>!Ns(t);function qv(t){t&&(bf=e=>e.startsWith("on")?!Ns(e):t(e))}try{qv(require("@emotion/is-prop-valid").default)}catch{}function Jv(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(bf(r)||n===!0&&Ns(r)||!e&&!Ns(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function Xv(t,e,n,s){const r=m.useMemo(()=>{const i=yf();return lo(i,e,co(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};vf(i,t.style,t),r.style={...i,...r.style}}return r}function Zv(t=!1){return(n,s,r,{latestValues:i},o)=>{const l=(so(n)?Xv:Gv)(s,i,o,n),c=Jv(s,typeof n=="string",t),u=n!==m.Fragment?{...c,...l,ref:r}:{},{children:f}=s,d=m.useMemo(()=>pe(f)?f.get():f,[f]);return m.createElement(n,{...u,children:d})}}function Qv(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...so(s)?zv:Wv,preloadedFeatures:t,useRender:Zv(r),createVisualElement:e,Component:s};return kv(o)}}const ni={current:null},wf={current:!1};function eb(){if(wf.current=!0,!!no)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ni.current=t.matches;t.addListener(e),e()}else ni.current=!1}function tb(t,e,n){for(const s in e){const r=e[s],i=n[s];if(pe(r))t.addValue(s,r);else if(pe(i))t.addValue(s,Un(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,Un(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const el=new WeakMap,nb=[...fu,he,dt],sb=t=>nb.find(uu(t)),tl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rb{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fi,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=ze.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Z.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Xs(n),this.isVariantNode=uf(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const h=f[d];l[d]!==void 0&&pe(h)&&h.set(l[d],!1)}}mount(e){this.current=e,el.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),wf.current||eb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ni.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){el.delete(this.current),this.projection&&this.projection.unmount(),ut(this.notifyUpdate),ut(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ht.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Z.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qt){const n=qt[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):re()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<tl.length;s++){const r=tl[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=tb(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Un(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ou(r)||iu(r))?r=parseFloat(r):!sb(r)&&dt.test(n)&&(r=vu(e,n)),this.setBaseTarget(e,pe(r)?r.get():r)),pe(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=Li(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pe(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zi),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Sf extends rb{constructor(){super(...arguments),this.KeyframeResolver=bu}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}}function ib(t){return window.getComputedStyle(t)}class ob extends Sf{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=ff}readValueFromInstance(e,n){if(ht.has(n)){const s=zi(n);return s&&s.default||0}else{const s=ib(e),r=(lu(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Gu(e,n)}build(e,n,s){ao(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return ro(e,n,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pe(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ab extends Sf{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=re}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ht.has(n)){const s=zi(n);return s&&s.default||0}return n=df.has(n)?n:Gs(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return mf(e,n,s)}build(e,n,s){lo(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,r){hf(e,n,s,r)}mount(e){this.isSVGTag=co(e.tagName),super.mount(e)}}const lb=(t,e)=>so(t)?new ab(e):new ob(e,{allowProjection:t!==m.Fragment}),cb=Qv({...Xx,...vv,...lv,...bv},lb),ub=zg(cb);class fb extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function db({children:t,isPresent:e}){const n=m.useId(),s=m.useRef(null),r=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(to);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=r.current;if(e||!s.current||!o||!a)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),y.jsx(fb,{isPresent:e,childRef:s,sizeRef:r,children:m.cloneElement(t,{ref:s})})}const hb=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:o})=>{const a=io(pb),l=m.useId(),c=m.useCallback(f=>{a.set(f,!0);for(const d of a.values())if(!d)return;s&&s()},[a,s]),u=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:c,register:f=>(a.set(f,!1),()=>a.delete(f))}),i?[Math.random(),c]:[n,c]);return m.useMemo(()=>{a.forEach((f,d)=>a.set(d,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&s&&s()},[n]),o==="popLayout"&&(t=y.jsx(db,{isPresent:n,children:t})),y.jsx(qs.Provider,{value:u,children:t})};function pb(){return new Map}const ls=t=>t.key||"";function nl(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const mb=({children:t,exitBeforeEnter:e,custom:n,initial:s=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>nl(t),[t]),l=a.map(ls),c=m.useRef(!0),u=m.useRef(a),f=io(()=>new Map),[d,h]=m.useState(a),[p,g]=m.useState(a);af(()=>{c.current=!1,u.current=a;for(let v=0;v<p.length;v++){const w=ls(p[v]);l.includes(w)?f.delete(w):f.get(w)!==!0&&f.set(w,!1)}},[p,l.length,l.join("-")]);const b=[];if(a!==d){let v=[...a];for(let w=0;w<p.length;w++){const S=p[w],C=ls(S);l.includes(C)||(v.splice(w,0,S),b.push(S))}o==="wait"&&b.length&&(v=b),g(nl(v)),h(a);return}const{forceRender:x}=m.useContext(Qi);return y.jsx(y.Fragment,{children:p.map(v=>{const w=ls(v),S=a===p||l.includes(w),C=()=>{if(f.has(w))f.set(w,!0);else return;let E=!0;f.forEach(T=>{T||(E=!1)}),E&&(x==null||x(),g(u.current),r&&r())};return y.jsx(hb,{isPresent:S,initial:!c.current||s?void 0:!1,custom:S?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:S?void 0:C,children:v},w)})})};function gb(){const[t,e]=m.useState([]);return m.useEffect(()=>{Ne.storage.local.get("messages").then(n=>{n.messages&&e(n.messages)})},[]),y.jsx(yb,{initialMessages:t})}function yb({initialMessages:t}){const{messages:e,input:n,handleInputChange:s,handleSubmit:r,addToolResult:i,append:o,setInput:a,reload:l,isLoading:c}=ig({maxSteps:5,api:"https://glimmer-eight.vercel.app/api/chat",initialMessages:t,async onToolCall({toolCall:P}){}}),[u,f]=m.useState(!1),d=m.useRef(null),h=m.useRef(null),[p,g]=m.useState(""),[b,x]=m.useState(!1),[v,w]=m.useState({x:0,y:0}),[S,C]=m.useState(!1),[E,T]=m.useState(""),[R,L]=m.useState(void 0),A=m.useRef(null),_=m.useRef(null),B=(P="auto")=>{var O;(O=d.current)==null||O.scrollIntoView({behavior:P})},D=async P=>{const{messages:O}=await Ne.storage.local.get("messages"),G=(O?[...O,...P]:P).filter((te,ue,fe)=>fe.findIndex(Me=>Me.id===te.id)===ue);await Ne.storage.local.set({messages:G})};m.useEffect(()=>(document.addEventListener("compositionstart",()=>{x(!0)}),document.addEventListener("compositionend",()=>{x(!1)}),()=>{document.removeEventListener("compositionstart",()=>{x(!0)}),document.removeEventListener("compositionend",()=>{x(!1)})}),[]);const k=m.useCallback(()=>{const P=window.getSelection(),O=P==null?void 0:P.toString().trim();if(O&&O.length>0){T(O);const $=P==null?void 0:P.getRangeAt(0),G=$==null?void 0:$.getBoundingClientRect();G&&(w({x:G.left+window.scrollX+G.width/2,y:G.top+window.scrollY-10}),G.top+window.scrollY-10<0?C(!1):C(!0))}else C(!1)},[]),U=m.useCallback(()=>{C(!1)},[]);m.useEffect(()=>(document.addEventListener("mouseup",k),document.addEventListener("mousedown",U),()=>{document.removeEventListener("mouseup",k),document.removeEventListener("mousedown",U)}),[k,U]);const M=P=>{switch(P){case"Copy":navigator.clipboard.writeText(E);break;case"Quote":g(E);break;case"Google It":window.open(`https://www.google.com/search?q=${E}`);break}C(!1)},j=()=>{h.current&&(h.current.style.height="auto",h.current.style.height=`${h.current.scrollHeight}px`)};return m.useEffect(()=>{j()},[n]),m.useEffect(()=>(document.addEventListener("mouseup",k),document.addEventListener("mousedown",U),()=>{document.removeEventListener("mouseup",k),document.removeEventListener("mousedown",U)}),[k,U]),m.useEffect(()=>{if(!d.current)return;const P=new IntersectionObserver(O=>{O.forEach($=>{f($.isIntersecting)})},{threshold:.5});return P.observe(d.current),()=>{P.disconnect()}},[]),m.useEffect(()=>{B("smooth")},[]),m.useEffect(()=>{u&&B(),D(e)},[e]),y.jsxs("div",{className:"flex flex-col w-full h-full pb-32",children:[y.jsx(on,{children:y.jsxs(an,{open:S,children:[y.jsx(ln,{asChild:!0,children:y.jsx("span",{style:{position:"fixed",left:`${v.x}px`,top:`${v.y}px`,pointerEvents:"none"}})}),y.jsxs(_t,{side:"top",className:"flex space-x-2",children:[y.jsx(be,{size:"sm",onClick:()=>M("Copy"),children:"Copy"}),y.jsx(be,{size:"sm",onClick:()=>M("Quote"),children:"Quote"}),y.jsx(be,{size:"sm",onClick:()=>M("Google It"),children:"Google It"})]})]})}),e==null?void 0:e.map(P=>{var O;return P.role!=="system"&&(P.content||P.toolInvocations)&&y.jsx("div",{className:`w-fit py-8 ${P.role==="user"?"ml-auto max-w-[80%]":"mr-auto max-w-[80%] text-left"}`,children:y.jsxs("div",{className:"relative mx-auto flex space-x-4 px-4",children:[y.jsx("div",{className:"flex-shrink-0",children:P.role==="user"?null:y.jsx("div",{className:"flex-shrink-0",children:y.jsx("img",{src:"/icon/128.png",className:"w-8 h-8 rounded-full",width:128,height:128})})}),y.jsxs("div",{className:"",children:[y.jsx(xb,{content:P.content}),P.role==="assistant"&&!c&&P.content&&y.jsxs(y.Fragment,{children:[y.jsx(vb,{text:P.content,variant:"ghost",size:"icon",children:y.jsx(jf,{className:"text-muted-foreground size-full"})}),y.jsx(bb,{reload:l,variant:"ghost",size:"icon",children:y.jsx(Mf,{className:"text-muted-foreground size-full"})})]}),(O=P.toolInvocations)==null?void 0:O.map($=>{const G=$.toolCallId,te=ue=>i({toolCallId:G,result:ue});return $.toolName==="askForConfirmation"?y.jsxs("div",{className:"bg-background rounded-md border p-4 shadow-sm",children:[y.jsx("p",{className:"text-muted mb-3 text-sm",children:$.args.message}),"result"in $?y.jsx("p",{className:"text-sm font-medium text-green-600",children:$.result}):y.jsxs("div",{className:"space-x-2",children:[y.jsx(be,{onClick:()=>te("Yes"),variant:"outline",size:"sm",children:"Yes"}),y.jsx(be,{onClick:()=>te("No"),variant:"outline",size:"sm",children:"No"})]})]},G):"result"in $?y.jsxs("details",{className:"bg-background mt-4 rounded-md border p-4 shadow-sm",children:[y.jsxs("summary",{className:"text-muted-foreground mb-1 text-xs",children:["Tool: ",$.toolName]}),y.jsx("p",{className:"text-muted-foreground text-xs",children:$.result})]},G):y.jsx("div",{className:"bg-background border-muted shadow-xs mt-4 animate-pulse rounded-md border p-4",children:y.jsxs("p",{className:"text-muted-foreground text-xs",children:["Calling ",$.toolName,"..."]})},G)})]})]})},P.id)}),y.jsx("div",{ref:d}),y.jsxs("form",{onSubmit:P=>{P.preventDefault();const O=p?`> ${p}

${n}`:n;o({id:_o(),role:"user",content:O}),a(""),g(""),L(void 0),A.current&&(A.current.value="")},ref:_,className:"fixed bottom-4 left-4 right-16 m-auto  flex max-w-md flex-col gap-2",children:[p&&y.jsxs("div",{className:"bg-background border-muted shadow-xs relative rounded-md border p-4",children:[y.jsx("p",{className:"text-muted-foreground text-xs",children:p}),y.jsx(be,{onClick:()=>g(""),size:"sm",className:"absolute bottom-2 right-2",variant:"secondary",children:"Clear"})]}),y.jsx(Rc,{ref:h,className:"bg-background h-auto max-h-[200px] min-h-[40px] resize-none overflow-hidden rounded-lg border px-4 py-4 pr-12 text-base",rows:1,value:n,onChange:P=>{s(P)},onKeyDown:P=>{if(P.key==="Enter"&&!P.shiftKey&&!b){P.preventDefault();const O=p?`> ${p}

${n}`:n;o({id:_o(),role:"user",content:O}),a(""),g(""),L(void 0),A.current&&(A.current.value="")}}}),y.jsx(be,{type:"submit",className:"absolute bottom-2 right-2",size:"icon",loading:c,children:y.jsx(Vf,{className:"size-full"})})]}),y.jsx(mb,{children:!u&&y.jsx(ub.button,{onClick:()=>{var P;(P=d.current)==null||P.scrollIntoView({behavior:"smooth"})},className:"z-100 bg-background fixed bottom-20 h-12 w-12 self-center rounded-full border",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:y.jsx(If,{className:"m-auto"})})})]})}const xb=m.memo(({content:t})=>y.jsx("div",{className:"prose max-w-xl",dangerouslySetInnerHTML:{__html:J.parse(t)}})),vb=m.memo(({text:t,children:e,variant:n,...s})=>y.jsx(be,{variant:n,onClick:()=>navigator.clipboard.writeText(t),...s,children:e})),bb=m.memo(({reload:t,children:e,variant:n,...s})=>y.jsx(be,{variant:n,onClick:t,...s,children:e})),wb=()=>{const[t,e]=m.useState(!1),[n,s]=m.useState(!1),[r,i]=m.useState(jt.home),[o,a]=m.useState("home"),[l,c]=m.useState(),[u,f]=m.useState(),d=m.useRef(null),{theme:h,toggleTheme:p}=Cc(),{t:g,i18n:b}=He(),{user:x,signIn:v,signUp:w,signOut:S,loading:C}=Ec();async function E(){let T=await Ne.storage.local.get("i18n");T.i18n&&await b.changeLanguage(T.i18n)}return m.useEffect(()=>{Ne.runtime.sendMessage({messageType:bt.connect}),Ne.runtime.onMessage.addListener((T,R,L)=>{console.log("sidepanel:"),console.log(T),T.messageType==bt.changeLocale?b.changeLanguage(T.content):T.messageType==bt.changeTheme?p(T.content):T.messageType==bt.closeSidePanel&&(Ne.runtime.sendMessage({messageType:bt.disconnect}),window.close())}),E()},[]),x?y.jsxs("div",{className:h,children:[y.jsxs("div",{className:"fixed top-0 right-0 h-full w-full bg-background z-[1000000000000] rounded shadow-2xl",children:[y.jsx(Hp,{headTitle:o}),y.jsx(zh,{sideNav:T=>{i(T),a(T)}}),y.jsxs("main",{className:"mr-14 grid gap-4 p-4 md:gap-8 md:p-8 overflow-auto h-full",children:[r===jt.home&&y.jsx(dp,{}),r===jt.profile&&y.jsx(Xp,{}),r===jt.settings&&y.jsx(Wp,{}),r===jt.chat&&y.jsx(gb,{})]})]}),t&&y.jsx(be,{className:"absolute z-[100000]",style:l,children:"send Message"}),y.jsx(Be,{ref:d,className:`absolute z-[100000] w-[300px] h-[200px] ${n?"block":"hidden"}`,style:u})]}):y.jsx(Jp,{signIn:v,signUp:w,loading:C})},Sb="modulepreload",Cb=function(t){return"/"+t},sl={},nt=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=Cb(l),l in sl)return;sl[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Sb,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Tb=(t,e,n)=>{const s=t[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((r,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},F=t=>typeof t=="string",rn=()=>{let t,e;const n=new Promise((s,r)=>{t=s,e=r});return n.resolve=t,n.reject=e,n},rl=t=>t==null?"":""+t,Eb=(t,e,n)=>{t.forEach(s=>{e[s]&&(n[s]=e[s])})},Rb=/###/g,il=t=>t&&t.indexOf("###")>-1?t.replace(Rb,"."):t,ol=t=>!t||F(t),yn=(t,e,n)=>{const s=F(e)?e.split("."):e;let r=0;for(;r<s.length-1;){if(ol(t))return{};const i=il(s[r]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++r}return ol(t)?{}:{obj:t,k:il(s[r])}},al=(t,e,n)=>{const{obj:s,k:r}=yn(t,e,Object);if(s!==void 0||e.length===1){s[r]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=yn(t,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=yn(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},Pb=(t,e,n,s)=>{const{obj:r,k:i}=yn(t,e,Object);r[i]=r[i]||[],r[i].push(n)},Os=(t,e)=>{const{obj:n,k:s}=yn(t,e);if(n)return n[s]},kb=(t,e,n)=>{const s=Os(t,n);return s!==void 0?s:Os(e,n)},Cf=(t,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?F(t[s])||t[s]instanceof String||F(e[s])||e[s]instanceof String?n&&(t[s]=e[s]):Cf(t[s],e[s],n):t[s]=e[s]);return t},It=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ab={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Nb=t=>F(t)?t.replace(/[&<>"'\/]/g,e=>Ab[e]):t;class Ob{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const Lb=[" ",",","?","!",";"],Ib=new Ob(20),Db=(t,e,n)=>{e=e||"",n=n||"";const s=Lb.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(s.length===0)return!0;const r=Ib.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!r.test(t);if(!i){const o=t.indexOf(n);o>0&&!r.test(t.substring(0,o))&&(i=!0)}return i},si=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const s=e.split(n);let r=t;for(let i=0;i<s.length;){if(!r||typeof r!="object")return;let o,a="";for(let l=i;l<s.length;++l)if(l!==i&&(a+=n),a+=s[l],o=r[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<s.length-1)continue;i+=l-i+1;break}r=o}return r},Ls=t=>t&&t.replace("_","-"),jb={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Is{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||jb,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,r){return r&&!this.debug?null:(F(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Is(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Is(this.logger,e)}}var $e=new Is;class Zs{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(n)||0;this.observers[s].set(n,r+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...s])})}}class ll extends Zs{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],s&&(Array.isArray(s)?a.push(...s):F(s)&&i?a.push(...s.split(i)):a.push(s)));const l=Os(this.data,a);return!l&&!n&&!s&&e.indexOf(".")>-1&&(e=a[0],n=a[1],s=a.slice(2).join(".")),l||!o||!F(s)?l:si(this.data&&this.data[e]&&this.data[e][n],s,i)}addResource(e,n,s,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];s&&(a=a.concat(o?s.split(o):s)),e.indexOf(".")>-1&&(a=e.split("."),r=n,n=a[1]),this.addNamespaces(n),al(this.data,a,r),i.silent||this.emit("added",e,n,s,r)}addResources(e,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in s)(F(s[i])||Array.isArray(s[i]))&&this.addResource(e,n,i,s[i],{silent:!0});r.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,r,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),r=s,s=n,n=a[1]),this.addNamespaces(n);let l=Os(this.data,a)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?Cf(l,s,i):l={...l,...s},al(this.data,a,l),o.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var Tf={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,s,r){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,s,r))}),e}};const cl={};class Ds extends Zs{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Eb(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=$e.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const s=this.resolve(e,n);return s&&s.res!==void 0}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=s&&e.indexOf(s)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Db(e,s,r);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:i};const c=e.split(s);(s!==r||s===r&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(r)}return F(i)&&(i=[i]),{key:e,namespaces:i}}translate(e,n,s){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],c=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const S=n.nsSeparator||this.options.nsSeparator;return r?{res:`${l}${S}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${S}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const f=this.resolve(e,n);let d=f&&f.res;const h=f&&f.usedKey||o,p=f&&f.exactUsedKey||o,g=Object.prototype.toString.apply(d),b=["[object Number]","[object Function]","[object RegExp]"],x=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!F(d)&&typeof d!="boolean"&&typeof d!="number";if(v&&d&&w&&b.indexOf(g)<0&&!(F(x)&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(f.res=S,f.usedParams=this.getUsedParamsDetails(n),f):S}if(i){const S=Array.isArray(d),C=S?[]:{},E=S?p:h;for(const T in d)if(Object.prototype.hasOwnProperty.call(d,T)){const R=`${E}${i}${T}`;C[T]=this.translate(R,{...n,joinArrays:!1,ns:a}),C[T]===R&&(C[T]=d[T])}d=C}}else if(v&&F(x)&&Array.isArray(d))d=d.join(x),d&&(d=this.extendTranslation(d,e,n,s));else{let S=!1,C=!1;const E=n.count!==void 0&&!F(n.count),T=Ds.hasDefaultValue(n),R=E?this.pluralResolver.getSuffix(c,n.count,n):"",L=n.ordinal&&E?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",A=E&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),_=A&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${R}`]||n[`defaultValue${L}`]||n.defaultValue;!this.isValidLookup(d)&&T&&(S=!0,d=_),this.isValidLookup(d)||(C=!0,d=o);const D=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:d,k=T&&_!==d&&this.options.updateMissing;if(C||S||k){if(this.logger.log(k?"updateKey":"missingKey",c,l,o,k?_:d),i){const P=this.resolve(o,{...n,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let P=0;P<M.length;P++)U.push(M[P]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(n.lng||this.language):U.push(n.lng||this.language);const j=(P,O,$)=>{const G=T&&$!==d?$:D;this.options.missingKeyHandler?this.options.missingKeyHandler(P,l,O,G,k,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(P,l,O,G,k,n),this.emit("missingKey",P,l,O,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?U.forEach(P=>{const O=this.pluralResolver.getSuffixes(P,n);A&&n[`defaultValue${this.options.pluralSeparator}zero`]&&O.indexOf(`${this.options.pluralSeparator}zero`)<0&&O.push(`${this.options.pluralSeparator}zero`),O.forEach($=>{j([P],o+$,n[`defaultValue${$}`]||_)})}):j(U,o,_))}d=this.extendTranslation(d,e,n,f,s),C&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${o}`),(C||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,S?d:void 0):d=this.options.parseMissingKeyHandler(d))}return r?(f.res=d,f.usedParams=this.getUsedParamsDetails(n),f):d}extendTranslation(e,n,s,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const c=F(e)&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const d=e.match(this.interpolator.nestingRegexp);u=d&&d.length}let f=s.replace&&!F(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,s.lng||this.language||r.usedLng,s),c){const d=e.match(this.interpolator.nestingRegexp),h=d&&d.length;u<h&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return i&&i[0]===h[0]&&!s.context?(o.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):o.translate(...h,n)},s)),s.interpolation&&this.interpolator.reset()}const a=s.postProcess||this.options.postProcess,l=F(a)?[a]:a;return e!=null&&l&&l.length&&s.applyPostProcessor!==!1&&(e=Tf.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,r,i,o,a;return F(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(s))return;const c=this.extractFromKey(l,n),u=c.key;r=u;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&!F(n.count),h=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),p=n.context!==void 0&&(F(n.context)||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(b=>{this.isValidLookup(s)||(a=b,!cl[`${g[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(cl[`${g[0]}-${b}`]=!0,this.logger.warn(`key "${r}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(x=>{if(this.isValidLookup(s))return;o=x;const v=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,u,x,b,n);else{let S;d&&(S=this.pluralResolver.getSuffix(x,n.count,n));const C=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(v.push(u+S),n.ordinal&&S.indexOf(E)===0&&v.push(u+S.replace(E,this.options.pluralSeparator)),h&&v.push(u+C)),p){const T=`${u}${this.options.contextSeparator}${n.context}`;v.push(T),d&&(v.push(T+S),n.ordinal&&S.indexOf(E)===0&&v.push(T+S.replace(E,this.options.pluralSeparator)),h&&v.push(T+C))}}let w;for(;w=v.pop();)this.isValidLookup(s)||(i=w,s=this.getResource(x,b,w,n))}))})}),{res:s,usedKey:r,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,s,r):this.resourceStore.getResource(e,n,s,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!F(e.replace);let r=s?e.replace:e;if(s&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const i of n)delete r[i]}return r}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}const Sr=t=>t.charAt(0).toUpperCase()+t.slice(1);class ul{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=$e.create("languageUtils")}getScriptPartFromCode(e){if(e=Ls(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Ls(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(F(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let r=Intl.getCanonicalLocales(e)[0];if(r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r)return r}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let s=e.split("-");return this.options.lowerCaseLng?s=s.map(r=>r.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=Sr(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=Sr(s[1].toLowerCase())),n.indexOf(s[2].toLowerCase())>-1&&(s[2]=Sr(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(n=r)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const r=this.getLanguagePartFromCode(s);if(this.isSupportedCode(r))return n=r;n=this.options.supportedLngs.find(i=>{if(i===r)return i;if(!(i.indexOf("-")<0&&r.indexOf("-")<0)&&(i.indexOf("-")>0&&r.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===r||i.indexOf(r)===0&&r.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),F(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes(n||this.options.fallbackLng||[],e),r=[],i=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return F(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):F(e)&&i(this.formatLanguageCode(e)),s.forEach(o=>{r.indexOf(o)<0&&i(this.formatLanguageCode(o))}),r}}let _b=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Mb={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Vb=["v1","v2","v3"],Fb=["v4"],fl={zero:0,one:1,two:2,few:3,many:4,other:5},$b=()=>{const t={};return _b.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Mb[e.fc]}})}),t};class Bb{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=$e.create("pluralResolver"),(!this.options.compatibilityJSON||Fb.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=$b(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const s=Ls(e==="dev"?"en":e),r=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];const o=new Intl.PluralRules(s,{type:r});return this.pluralRulesCache[i]=o,o}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,n);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,s).map(r=>`${n}${r}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,n);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((r,i)=>fl[r]-fl[i]).map(r=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r}`):s.numbers.map(r=>this.getSuffix(e,r,n)):[]}getSuffix(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,s);return r?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(n)}`:this.getSuffixRetroCompatible(r,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const s=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let r=e.numbers[s];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!Vb.includes(this.options.compatibilityJSON)}}const dl=function(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=kb(t,e,n);return!i&&r&&F(n)&&(i=si(t,n,s),i===void 0&&(i=si(e,n,s))),i},Cr=t=>t.replace(/\$/g,"$$$$");class Ub{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=$e.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:r,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:b,maxReplaces:x,alwaysFormat:v}=e.interpolation;this.escape=n!==void 0?n:Nb,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=i?It(i):o||"{{",this.suffix=a?It(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?It(d):h||It("$t("),this.nestingSuffix=p?It(p):g||It(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=x||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>n&&n.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,s,r){let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=h=>{if(h.indexOf(this.formatSeparator)<0){const x=dl(n,l,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,s,{...r,...n,interpolationkey:h}):x}const p=h.split(this.formatSeparator),g=p.shift().trim(),b=p.join(this.formatSeparator).trim();return this.format(dl(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),b,s,{...r,...n,interpolationkey:g})};this.resetRegExp();const u=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>Cr(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?Cr(this.escape(h)):Cr(h)}].forEach(h=>{for(a=0;i=h.regex.exec(e);){const p=i[1].trim();if(o=c(p),o===void 0)if(typeof u=="function"){const b=u(e,i,r);o=F(b)?b:""}else if(r&&Object.prototype.hasOwnProperty.call(r,p))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),o="";else!F(o)&&!this.useRawValueToEscape&&(o=rl(o));const g=h.safeValue(o);if(e=e.replace(i[0],g),f?(h.regex.lastIndex+=o.length,h.regex.lastIndex-=i[0].length):h.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,o;const a=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const f=l.split(new RegExp(`${u}[ ]*{`));let d=`{${f[1]}`;l=f[0],d=this.interpolate(d,o);const h=d.match(/'/g),p=d.match(/"/g);(h&&h.length%2===0&&!p||p.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),c&&(o={...c,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${u}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;r=this.nestingRegexp.exec(e);){let l=[];o={...s},o=o.replace&&!F(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const u=r[1].split(this.formatSeparator).map(f=>f.trim());r[1]=u.shift(),l=u,c=!0}if(i=n(a.call(this,r[1].trim(),o),o),i&&r[0]===e&&!F(i))return i;F(i)||(i=rl(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),i=""),c&&(i=l.reduce((u,f)=>this.format(u,f,s.lng,{...s,interpolationkey:r[1].trim()}),i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}const zb=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);e==="currency"&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},Dt=t=>{const e={};return(n,s,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i={...i,[r.interpolationkey]:void 0});const o=s+JSON.stringify(i);let a=e[o];return a||(a=t(Ls(s),r),e[o]=a),a(n)}};class Wb{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=$e.create("formatter"),this.options=e,this.formats={number:Dt((n,s)=>r=>new Intl.NumberFormat(n,{...s}).format(r)),currency:Dt((n,s)=>r=>new Intl.NumberFormat(n,{...s,style:"currency"}).format(r)),datetime:Dt((n,s)=>r=>new Intl.DateTimeFormat(n,{...s}).format(r)),relativetime:Dt((n,s)=>r=>new Intl.RelativeTimeFormat(n,{...s}).format(r,s.range||"day")),list:Dt((n,s)=>r=>new Intl.ListFormat(n,{...s}).format(r))},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Dt(n)}format(e,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{const{formatName:c,formatOptions:u}=zb(l);if(this.formats[c]){let f=a;try{const d=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},h=d.locale||d.lng||r.locale||r.lng||s;f=this.formats[c](a,h,{...u,...r,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const Hb=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Kb extends Zs{constructor(e,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=$e.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,r.backend,r)}queueLoad(e,n,s,r){const i={},o={},a={},l={};return e.forEach(c=>{let u=!0;n.forEach(f=>{const d=`${c}|${f}`;!s.reload&&this.store.hasResourceBundle(c,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,u=!1,o[d]===void 0&&(o[d]=!0),i[d]===void 0&&(i[d]=!0),l[f]===void 0&&(l[f]=!0)))}),u||(a[c]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,s){const r=e.split("|"),i=r[0],o=r[1];n&&this.emit("failedLoading",i,o,n),!n&&s&&this.store.addResourceBundle(i,o,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const a={};this.queue.forEach(l=>{Pb(l.loaded,[i],o),Hb(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:r,wait:i,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&u&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,r+1,i*2,o)},i);return}o(c,u)},l=this.backend[s].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();F(e)&&(e=this.languageUtils.toResolveHierarchy(e)),F(n)&&(n=[n]);const i=this.queueLoad(e,n,s,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=e.split("|"),r=s[0],i=s[1];this.read(r,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${r} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${r}`,a),this.loaded(e,o,a)})}saveMissing(e,n,s,r,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:i},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,n,s,r,l):u=c(e,n,s,r),u&&typeof u.then=="function"?u.then(f=>a(null,f)).catch(a):a(null,u)}catch(u){a(u)}else c(e,n,s,r,a,l)}!e||!e[0]||this.store.addResource(e[0],n,s,r)}}}const hl=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),F(t[1])&&(e.defaultValue=t[1]),F(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),pl=t=>(F(t.ns)&&(t.ns=[t.ns]),F(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),F(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),cs=()=>{},Gb=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class zn extends Zs{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=pl(e),this.services={},this.logger=$e,this.modules={external:[]},Gb(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(s=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(F(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const r=hl();this.options={...r,...this.options,...pl(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?$e.init(i(this.modules.logger),this.options):$e.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Wb);const f=new ul(this.options);this.store=new ll(this.options.resources,this.options);const d=this.services;d.logger=$e,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Bb(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(u),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Ub(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Kb(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(h){for(var p=arguments.length,g=new Array(p>1?p-1:0),b=1;b<p;b++)g[b-1]=arguments[b];e.emit(h,...g)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Ds(this.services,this.options),this.translator.on("*",function(h){for(var p=arguments.length,g=new Array(p>1?p-1:0),b=1;b<p;b++)g[b-1]=arguments[b];e.emit(h,...g)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,s||(s=cs),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=rn(),c=()=>{const u=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),s(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cs;const r=F(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const i=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&i.indexOf(c)<0&&i.push(c)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(i,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(a)})}else s(null)}reloadResources(e,n,s){const r=rn();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=cs),this.services.backendConnector.reload(e,n,i=>{r.resolve(),s(i)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Tf.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(e,n){var s=this;this.isLanguageChangingTo=e;const r=rn();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve(function(){return s.t(...arguments)}),n&&n(l,function(){return s.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=F(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{o(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,s){var r=this;const i=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),f=2;f<c;f++)u[f-2]=arguments[f];l=r.options.overloadTranslationOptionHandler([o,a].concat(u))}else l={...a};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||s||i.keyPrefix);const d=r.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(o)?h=o.map(p=>`${l.keyPrefix}${d}${p}`):h=l.keyPrefix?`${l.keyPrefix}${d}${o}`:o,r.t(h,l)};return F(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=s,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,e)&&(!r||o(i,e)))}loadNamespaces(e,n){const s=rn();return this.options.ns?(F(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),n&&n(r)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=rn();F(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=r.concat(i),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new ul(hl());return n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new zn(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cs;const s=e.forkResourceStore;s&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new zn(r);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s&&(i.store=new ll(this.store.data,r),i.services.resourceStore=i.store),i.translator=new Ds(i.services,r),i.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];i.emit(a,...c)}),i.init(r,n),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const xe=zn.createInstance();xe.createInstance=zn.createInstance;const Yb=xe.createInstance;xe.dir;xe.init;xe.loadResources;xe.reloadResources;xe.use;xe.changeLanguage;xe.getFixedT;xe.t;xe.exists;xe.setDefaultNamespace;xe.hasLoadedNamespace;xe.loadNamespaces;xe.loadLanguages;var qb=function(e){return{type:"backend",init:function(s,r,i){},read:function(s,r,i){if(typeof e=="function"){if(e.length<3){try{var o=e(s,r);o&&typeof o.then=="function"?o.then(function(a){return i(null,a&&a.default||a)}).catch(i):i(null,o)}catch(a){i(a)}return}e(s,r,i);return}i(null,e&&e[s]&&e[s][r])}}};async function Jb(t,e,n,s){return n=n||Yb(),n.use(ap),n.use(qb((r,i)=>Tb(Object.assign({"../locales/en/auth.json":()=>nt(()=>import("./auth-Df8wW4qN.js"),[]),"../locales/en/common.json":()=>nt(()=>import("./common-AiLnmlw9.js"),[]),"../locales/en/content.json":()=>nt(()=>import("./content-Br94K5hL.js"),[]),"../locales/en/sidepanel.json":()=>nt(()=>import("./sidepanel-Dw6IMIDv.js"),[]),"../locales/zh_CN/auth.json":()=>nt(()=>import("./auth-UzwqhXcI.js"),[]),"../locales/zh_CN/common.json":()=>nt(()=>import("./common-BhvfPlnY.js"),[]),"../locales/zh_CN/content.json":()=>nt(()=>import("./content-CYSdBmeo.js"),[]),"../locales/zh_CN/sidepanel.json":()=>nt(()=>import("./sidepanel-CZ_12WLo.js"),[])}),`../locales/${r}/${i}.json`,4))),await n.init({lng:t,resources:s,fallbackLng:fs.defaultLocale,supportedLngs:fs.locales,defaultNS:e,fallbackNS:e,ns:e,preload:fs.locales}),{i18n:n,resources:n.services.resourceStore.data,t:n.t}}Jb(fs.defaultLocale,["common","sidepanel","auth"]);Lf.createRoot(document.getElementById("root")).render(y.jsx(oe.StrictMode,{children:y.jsx($p,{children:y.jsx(Kp,{children:y.jsx(wb,{})})})}));
